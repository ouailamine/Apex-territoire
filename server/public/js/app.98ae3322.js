(function(e){function t(t){for(var a,i,o=t[0],l=t[1],c=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,o=1;o<r.length;o++){var l=r[o];0!==s[l]&&(a=!1)}a&&(n.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},s={app:0},n=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"00e2":function(e,t,r){"use strict";var a=r("b3f2"),s=r.n(a);s.a},"034f":function(e,t,r){"use strict";var a=r("85ec"),s=r.n(a);s.a},"0ba3":function(e,t,r){"use strict";var a=r("ef9b"),s=r.n(a);s.a},2171:function(e,t,r){"use strict";var a=r("5c0d"),s=r.n(a);s.a},2403:function(e,t,r){},2457:function(e,t,r){"use strict";var a=r("3be8"),s=r.n(a);s.a},"27ed":function(e,t,r){"use strict";var a=r("53c5"),s=r.n(a);s.a},"2f3e":function(e,t,r){},"3be8":function(e,t,r){},"3e46":function(e,t,r){},4678:function(e,t,r){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=n(e);return r(t)}function n(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=n,e.exports=s,s.id="4678"},"53c5":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("6cc5");var a=r("2b0e"),s=(r("99af"),r("c740"),r("d81d"),r("4ec9"),r("d3b7"),r("3ca3"),r("ddb0"),r("b85c")),n=(r("96cf"),r("1da1")),i=r("2f62"),o=(r("7db0"),r("4160"),r("b0c0"),r("b64b"),r("25f0"),r("159b"),r("d4ec")),l=r("bee2"),c=r("bc3a"),u=r.n(c);r("ed18").config();var d="db-services";var p=function(){function e(){Object(o["a"])(this,e)}return Object(l["a"])(e,null,[{key:"ResetPassword",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Checking email "+t),r={UserEMail:t},e.abrupt("return",new Promise((function(e,t){try{u.a.post(d+"/resetpassword",r).then((function(t){console.log(t.data.affectedRows),1===t.data.affectedRows?e(!0):e(!1)}))}catch(a){t(a)}})));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"pwsadd",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){try{null!==t&&null!=t.transaction&&"alter_password"===t.transaction?u.a.post(d+"/password",t).then((function(t){e(t.affectedRows)})):r(" ERROR  does not accept "+t)}catch(a){r(a)}})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"checkEMail",value:function(t){console.log("Checking email in Apex Vignes user Table :"+t);var r={transaction:"select_useremail",userEMail:t};return new Promise((function(a,s){try{u.a.post(d+"/login",r).then((function(r){void 0!==r.data&&r.data.length>0?(console.log("mail registered in table user"),a(!0)):(console.log("mail not registered in table user"),e.checkEMailAuth(t).then((function(e){a(e)})))}))}catch(n){s(n)}}))}},{key:"checkEMailAuth",value:function(e){console.log("Checking email in Apex Territoire authentification table :"+e);var t={transaction:"select_useremailAuth",userEMail:e};return new Promise((function(e,r){try{u.a.post(d+"/checkAuth",t).then((function(t){null!==t&&t.data.length>0?(console.log("mail registered in table auth"),e(!0)):(console.log("mail not registered in table auth"),e(!1))}))}catch(a){r(a)}}))}},{key:"checkpasswordRequire",value:function(e){console.log("checkpasswordRequire "+e);var t={transaction:"select_passwordRequireAuth",userEMail:e};return new Promise((function(e,r){try{u.a.post(d+"/checkAuth",t).then((function(t){void 0!==t&&(1===t.data[0].passwordRequire?(console.log("passwordRequire exists"),e(!0)):(console.log("passwordRequire does not exists"),e(!1)))}))}catch(a){r(a)}}))}},{key:"checkPassword",value:function(e,t){var r={transaction:"check_passwordLogin",password:e,UserEMail:t};return new Promise((function(e,t){try{u.a.post(d+"/password",r).then((function(t){console.log("checkPassword result form call to db: "),console.log(t),t&&!0===t.data?e(!0):e(!1)}))}catch(a){t(a)}}))}},{key:"mailAddToAuth",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={transaction:"insert_userEmail",userEMail:t,password:null,passwordRequire:0,userName:r},e.abrupt("return",u.a.post(d+"/checkAuth",a).then((function(e){return console.log("mailAddToAuth result from DB"),console.log(e),e&&e.data.affectedRows>0?(console.log("mail a été ajouté"),!0):(console.log("non ajouté"),!1)})));case 2:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getUserInfo",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,a,s,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("getUserInfo "+t),r={userEMail:t,userName:t,userId:-1,userExistsInUserTable:!1,userExistsInAuthTable:!1,userRequiredPassword:!1},e.prev=2,a={transaction:"select_useremail",userEMail:t},console.log("select_useremail from user table "+t),e.next=7,u.a.post(d+"/login",a);case 7:return s=e.sent,void 0!==s.data&&s.data.length>0&&(console.log("res_select_useremailUser.data"),console.log(s.data),s.data.length>1&&console.log("WARNING mail corresponds to more than one row in Apex Vignes, we keep the first row"),r.userName=s.data[0].name,r.userId=s.data[0].idUser,r.userExistsInUserTable=!0),n={transaction:"select_useremailAuth",userEMail:t},console.log("select_useremail from authentification table "+t),e.next=13,u.a.post(d+"/checkAuth",n);case 13:return i=e.sent,null!==i&&i.data.length>0&&(console.log("res_select_useremailAuth.data"),console.log(i.data),r.userName===r.userEMail&&(r.userName=i.data[0].userName),r.userExistsInAuthTable=!0,r.userRequiredPassword=i.data[0].passwordRequire),r.userName||(r.userName=r.userEMail),e.abrupt("return",r);case 19:return e.prev=19,e.t0=e["catch"](2),console.log(e.t0),e.abrupt("return",r);case 23:case"end":return e.stop()}}),e,null,[[2,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getObservations",value:function(e){return console.log("getObservations of "+e),new Promise((function(t,r){try{var a={transaction:"select_observations",userEMail:e};u.a.post(d,a).then((function(e){t(e.data)}))}catch(s){r(s)}}))}},{key:"getSharedObservations",value:function(e,t){return console.log("getSharedObservations of  "+e+" from "+t),new Promise((function(r,a){try{var s={transaction:"select_sharedobservations",dataOwnerEMail:e,parcelName:t};u.a.post(d,s).then((function(e){r(e.data)}))}catch(n){a(n)}}))}},{key:"getModifiedWeekMetrics",value:function(e){return console.log("getmodifiedWeekMetrics from "+e),new Promise((function(t,r){try{var a={transaction:"select_modifiedweekmetrics",dataUserEMail:e};u.a.post(d,a).then((function(e){t(e.data)}))}catch(s){r(s)}}))}},{key:"sendToModifiedWeekMetrics",value:function(e){return console.log(e),new Promise((function(t,r){try{null!==e&&null!=e.transaction&&("select_modifiedweekmetrics"===e.transaction||"alter_modifiedweekmetrics"===e.transaction||"delete_modifiedweekmetrics"===e.transaction)?("select_modifiedweekmetrics"===e.transaction&&u.a.post(d,e).then((function(e){t(e.data)})),"alter_modifiedweekmetrics"===e.transaction&&(console.log(e),u.a.post(d,e).then((function(e){t(e.affectedRows)}))),"delete_modifiedweekmetrics"===e.transaction&&u.a.post(d,e).then((function(e){t(e.affectedRows)}))):r(" ERROR sendToModifiedWeekMetrics does not accet "+e)}catch(a){r(a)}}))}},{key:"sendToInitializedWeekMetrics",value:function(e){return console.log(e),new Promise((function(t,r){try{null!==e&&null!=e.transaction&&("select_initializedweekmetrics"===e.transaction||"alter_initializedweekmetrics"===e.transaction||"delete_initializedweekmetrics"===e.transaction)?("select_initializedweekmetrics"===e.transaction&&u.a.post(d,e).then((function(e){t(e.data)})),"alter_initializedweekmetrics"===e.transaction&&(console.log(e),u.a.post(d,e).then((function(e){t(e.affectedRows)}))),"delete_initializedweekmetrics"===e.transaction&&u.a.post(d,e).then((function(e){t(e.affectedRows)}))):r(" ERROR sendToInitializedWeekMetrics does not accept "+e)}catch(a){r(a)}}))}},{key:"sendToParcelDataSharing",value:function(e){return new Promise((function(t,r){try{null!==e&&null!=e.transaction&&("select_parceldatasharing"===e.transaction||"insert_parceldatasharing"===e.transaction||"delete_parceldatasharing"===e.transaction)?("select_parceldatasharing"===e.transaction&&u.a.post(d,e).then((function(e){t(e.data)})),"insert_parceldatasharing"===e.transaction&&(console.log(e),u.a.post(d,e).then((function(e){t(e.affectedRows)}))),"delete_parceldatasharing"===e.transaction&&(console.log(e),console.log(e.dataOwnerEMail),console.log(e.dataUserEMail),console.log(e.parcelName),u.a.post(d,e).then((function(r){console.log(e),t(r.affectedRows,console.log("ok"))})))):r(" ERROR sendToModifiedWeekMetrics does not accet "+e)}catch(a){r(a)}}))}},{key:"postQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url,t=arguments.length>1?arguments[1]:void 0;return new Promise((function(r,a){try{u.a.post(e,t).then((function(e){r(e)}))}catch(s){a(s)}}))}},{key:"deleteQuery",value:function(e){return u.a.delete(d,e)}},{key:"getMonthLabel",value:function(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return}}},{key:"getDayLabel",value:function(e){switch(e){case"1":return"Mon";case"2":return"Tue";case"3":return"Wed";case"4":return"Thu";case"5":return"Fri";case"6":return"Sat";case"0":return"Sun";default:return}}},{key:"extractUserDataObjFrom",value:function(t){console.log("extractUserDataObjFrom : nbRows: "+t.length);var r={};return t.forEach((function(t){void 0===r.userEMail&&(r=new e.MonitoredUser(t.userEMail,t.userId,t.userName));var a=r.parcels.find((function(e){return e.parcelName===t.parcelName}));void 0===a&&(a=new e.MonitoredParcel(t.parcelName,t.userEMail,t.userName,t.userId,{lat:t.parcelLat,lng:t.parcelLng}),r.parcels.push(a));var s=new Date;s.setTime(t.sessionDateInSec+"000");var n=s.getFullYear(),i=a.parcelYears.find((function(e){return e.yearNumber===n}));void 0===i&&(i=new e.MonitoredYear(n),a.parcelYears.push(i));var o=new Date(n,0,1),l=864e5,c=l*(1===o.getDay()?0:0===o.getDay()?1:8-o.getDay()),u=new Date;u.setTime(o.getTime()+c);var d=s.getTime()===u.getTime()?1:Math.ceil((s.getTime()-u.getTime())/l/7),p=s.getTime()-l*(1===s.getDay()?0:0===s.getDay()?6:s.getDay()-1),m=new Date;m.setTime(p);var h=i.yearWeeks.find((function(e){return e.weekNumber===d}));void 0===h&&(h=new e.MonitoredWeek(t.sessionDateInSec+"000"),i.yearWeeks.push(h));var b=h.weekSessions.find((function(e){return e.sessionDateInMs===t.sessionDateInSec+"000"}));void 0===b&&(b=new e.MonitoredSession(t.sessionDateInSec+"000"),h.weekSessions.push(b));var v=new e.MonitoredObservation(t.obsvLabel,t.obsvDateInMs,t.userName,t.userName,{lat:t.obsvLat,lng:t.obsvLng});b.sessionObservations.push(v)})),r}},{key:"addParcelObservations",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getObservations(r.userEMail);case 3:a=t.sent,s=e.extractUserDataObjFrom(a),Object.keys(s).length>0&&s.parcels.forEach((function(e){return r.parcels.push(e)})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));function r(e){return t.apply(this,arguments)}return r}()},{key:"addSharedParcelObservations",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a,n,i,o,l,c,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("addSharedParcelObservations"),t.next=3,e.sendToParcelDataSharing({transaction:"select_parceldatasharing",userEMail:r.userEMail});case 3:a=t.sent,console.log("sharedParcelDBRows result"),console.log(a),n=Object(s["a"])(a),t.prev=7,n.s();case 9:if((i=n.n()).done){t.next=25;break}return o=i.value,t.next=13,e.getSharedObservations(o.dataOwnerEMail,o.parcelName);case 13:return l=t.sent,l.length>0&&(c=e.extractUserDataObjFrom(l),r.parcels.push(c.parcels[0])),t.next=17,e.sendToInitializedWeekMetrics({transaction:"select_initializedweekmetrics",dataOwnerEMail:o.dataOwnerEMail,parcelName:o.parcelName});case 17:return u=t.sent,e.addWeekMetricsDBRows(r,u),t.next=21,e.sendToModifiedWeekMetrics({transaction:"select_modifiedweekmetrics",dataUserEMail:o.dataOwnerEMail,dataOwnerEMail:o.dataOwnerEMail,parcelName:o.parcelName});case 21:d=t.sent,e.addWeekMetricsDBRows(r,d);case 23:t.next=9;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t["catch"](7),n.e(t.t0);case 30:return t.prev=30,n.f(),t.finish(30);case 33:case"end":return t.stop()}}),t,null,[[7,27,30,33]])})));function r(e){return t.apply(this,arguments)}return r}()},{key:"addInitializedWeekMetrics",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("addInitializedWeekMetrics"),t.next=3,e.sendToInitializedWeekMetrics({transaction:"select_initializedweekmetrics",dataOwnerEMail:r.userEMail});case 3:a=t.sent,e.addWeekMetricsDBRows(r,a);case 5:case"end":return t.stop()}}),t)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"addWeekMetricsDBRows",value:function(t,r){console.log("addWeekMetricsDBRows"),console.log(r);var a,n=Object(s["a"])(r);try{var i=function(){var r=a.value,s=t.parcels.find((function(e){return e.parcelName===r.parcelName&&e.dataOwnerEMail===r.dataOwnerEMail}));s||(s=new e.MonitoredParcel(r.parcelName,r.dataOwnerEMail,r.dataOwnerName?r.dataOwnerName:t.userName,-1,{lat:r.parcelLat,lng:r.parcelLng}),t.parcels.push(s));var n=s.parcelYears.find((function(e){return e.yearNumber===r.yearNumber}));n||(n=new e.MonitoredYear(r.yearNumber),s.parcelYears.push(n));var i=n.yearWeeks.find((function(e){return e.weekNumber===r.weekNumber}));i||(i=new e.MonitoredWeek(n.yearNumber,r.weekNumber),i.weekNbObsFullGrowth=r.nbObsFullGrowth,i.weekNbObsSlowGrowth=r.nbObsSlowGrowth,i.weekNbObsStoppedGrowth=r.nbObsStoppedGrowth,n.yearWeeks.push(i))};for(n.s();!(a=n.n()).done;)i()}catch(o){n.e(o)}finally{n.f()}}},{key:"addWeeksToUserDataObj",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2019,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2020,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:32;if(console.log("addWeeksToUserDataObj "),void 0===t.parcels||0===t.parcels.length)throw console.warn("No parcels is currently monitored by the user"),alert("Ce compte utilisateur n'a pas encore reçu ou collecté des observations d'Apex, vous allez être déconnecté")," No parcels is currently monitored by the user";for(var i=[],o=[],l=0;l<t.parcels.length;l++){var c=t.parcels[l];if(void 0!==c.parcelYears)for(var u=function(e){var t=c.parcelYears[e].yearNumber;void 0===i.find((function(e){return e===t}))&&i.push(t)},d=0;d<c.parcelYears.length;d++)u(d);for(var p=function(e){void 0===i.find((function(t){return t===e}))&&i.push(e)},m=r;m<=a;m++)p(m);if(void 0!==c.parcelYears)for(var h=0;h<c.parcelYears.length;h++)if(void 0!==c.parcelYears[h].yearWeeks)for(var b=function(e){var t=c.parcelYears[h].yearWeeks[e].weekNumber;void 0===o.find((function(e){return e===t}))&&o.push(t)},v=0;v<c.parcelYears[h].yearWeeks.length;v++)b(v);for(var g=function(e){void 0===o.find((function(t){return t===e}))&&o.push(e)},f=s;f<=n;f++)g(f)}for(var w=0;w<t.parcels.length;w++)for(var k=t.parcels[w],x=function(t){var r=i[t],a=k.parcelYears.find((function(e){return e.yearNumber===r}));void 0===a&&(a=new e.MonitoredYear(r),k.parcelYears.push(a));for(var s=function(t){var s=o[t],n=a.yearWeeks.find((function(e){return e.weekNumber===s}));void 0===n&&(n=new e.MonitoredWeek(r,s),a.yearWeeks.push(n))},n=0;n<o.length;n++)s(n)},_=0;_<i.length;_++)x(_)}},{key:"enforceConsistencyOfUserDataObj",value:function(e){if(console.log("enforceConsistencyOfUserDataObj "),void 0===e.parcels)throw console.warn("No parcels is currently monitored by the user"),alert("Ce compte utilisateur n'a pas encore reçu ou collecté des observations d'Apex, vous allez être déconnecté")," No parcels is currently monitored by the user";for(var t=0;t<e.parcels.length;t++){var r=e.parcels[t];if(void 0!==r.parcelYears&&r.parcelYears.length>0)for(var a=0;a<r.parcelYears.length;a++){var s=r.parcelYears[a];if(void 0!==s.yearWeeks&&s.yearWeeks.length>0)for(var n=0;n<s.yearWeeks.length;n++){var i=s.yearWeeks[n],o=0,l=0,c=0,u=0;if(this.weekICApex=0,void 0!==i.weekSessions&&i.weekSessions.length>0)for(var d=0;d<i.weekSessions.length;d++){var p=i.weekSessions[d],m=0,h=0;if(void 0!==p.sessionObservations){for(var b=0;b<p.sessionObservations.length;b++){var v=p.sessionObservations[b];"P"===v.obsvLabel&&l++,"R"===v.obsvLabel&&c++,"C"===v.obsvLabel&&u++,m+=v.obsvValue,h++,o++}h>0&&(p.sessionAVGrowth=m/h)}}o>0&&(i.weekNbObsFullGrowth=l,i.weekNbObsSlowGrowth=c,i.weekNbObsStoppedGrowth=u),i.weekNbObservations=i.weekNbObsFullGrowth+i.weekNbObsSlowGrowth+i.weekNbObsStoppedGrowth,i.weekNbObservations>0&&(i.weekAVGrowth=Math.round(100*(i.weekNbObsFullGrowth+.5*i.weekNbObsSlowGrowth)/i.weekNbObservations)/100,i.weekPrctFullGrowth=Math.round(1e4*i.weekNbObsFullGrowth/i.weekNbObservations)/100,i.weekPrctSlowGrowth=Math.round(1e4*i.weekNbObsSlowGrowth/i.weekNbObservations)/100,i.weekPrctStoppedGrowth=Math.round(1e4*i.weekNbObsStoppedGrowth/i.weekNbObservations)/100,i.weekICApex=i.weekAVGrowth)}}}}},{key:"sortUserDataObjByYearByWeek",value:function(e){if(void 0===e.parcels)throw console.warn("No parcels is currently monitored by the user"),alert("Ce compte utilisateur n'a pas encore reçu ou collecté des observations d'Apex, vous allez être déconnecté")," No parcels is currently monitored by the user";for(var t=0;t<e.parcels.length;t++){var r=e.parcels[t];if(void 0!==r.parcelYears&&r.parcelYears.length>0){for(var a=0;a<r.parcelYears.length;a++){var s=r.parcelYears[a];void 0!==s.yearWeeks&&s.yearWeeks.length>0&&s.yearWeeks.sort((function(e,t){return e.weekNumber-t.weekNumber}))}r.parcelYears.sort((function(e,t){return e.yearNumber-t.yearNumber}))}}}},{key:"MonitoredUser",value:function(e,t,r){var a=this;this.userEMail=e,this.userId=t,this.userName=r,this.parcels=[],this.toString=function(){return"user: email ".concat(a.userEMail," id: ").concat(a.userId," name ").concat(a.userName)}}},{key:"MonitoredParcel",value:function(e,t,r,a,s){var n=this;this.parcelName=e,this.dataOwnerEMail=t,this.dataOwnerName=r,this.dataOwnerId=a,this.parcelCoord=s,this.parcelYears=[],this.toString=function(){return"parcel: "+n.parcelName}}},{key:"MonitoredYear",value:function(e){this.yearNumber=e,this.yearWeeks=[],this.toString=function(){return"year: ".concat(this.yearNumber)}}},{key:"MonitoredWeek",value:function(t,r){var a=this;if(this.weekNumber=0,this.weekLabel="",this.weekFullDate=new Date,this.weekSessions=[],this.weekNbObservations=0,this.weekNbObsFullGrowth=0,this.weekNbObsSlowGrowth=0,this.weekNbObsStoppedGrowth=0,this.weekPrctFullGrowth=0,this.weekPrctSlowGrowth=0,this.weekPrctStoppedGrowth=0,this.weekAVGrowth=0,this.weekICApex=0,this.toString=function(){return"w"+a.weekNumber+"("+a.weekLabel+")"},void 0===r){var s=t,n=new Date;n.setTime(s);var i=new Date(n.getFullYear(),0,1),o=864e5,l=o*(1===i.getDay()?0:0===i.getDay()?1:8-i.getDay()),c=new Date;c.setTime(i.getTime()+l);var u=n.getTime()===c.getTime()?1:Math.ceil((n.getTime()-c.getTime())/o/7),d=n.getTime()-o*(1===n.getDay()?0:0===n.getDay()?6:n.getDay()-1),p=new Date;p.setTime(d);var m=p.getDate()+" "+e.getMonthLabel(p.getMonth());this.weekNumber=u,this.weekLabel=m,this.weekFullDate=p.toString()}else{var h=t,b=r,v=new Date(h,0,1),g=864e5,f=g*(1===v.getDay()?0:0===v.getDay()?1:8-v.getDay()),w=new Date;w.setTime(v.getTime()+f);var k=w.getTime()+7*g*(b-1),x=new Date;x.setTime(k);var _=x.getDate()+" "+e.getMonthLabel(x.getMonth());this.weekNumber=b,this.weekLabel=_,this.weekFullDate=x.toString()}this.reInitICApex=function(){var e=3;return this.weekAVGrowth>=.75?e=0:this.weekPrctFullGrowth>=5?e=1:this.weekPrctSlowGrowth<=90&&(e=2),e}}},{key:"MonitoredSession",value:function(t){var r=new Date;r.setTime(t),this.sessionDateInMs=t,this.sessionDateLabel=r.getDate()+" "+e.getMonthLabel(r.getMonth())+" "+r.getFullYear(),this.sessionAVGrowth=0,this.sessionICApex=0,this.sessionObservations=[]}},{key:"MonitoredObservation",value:function(e,t,r,a,s){this.initObsvValueFromLabel=function(e){switch(e){case"P":return 1;case"R":return.5;case"C":return 0;default:return}},this.obsvLabel=e,this.obsvValue=this.initObsvValueFromLabel(e),this.obsvDateInMs=t,this.obsvOwnerName=r,this.obsvUserName=a,this.obsvCoord=s}}]),e}(),m=p,h=r("0e44");a["default"].use(i["a"]);var b=function(){return{activedNavbar:"",navbarModel:"",mailpresent:"",PasswordRequire:"",loggedUserEmail:"",demoUserEMail:"",userDataObj:null,selectedParcelIdx:0,selectedYearIdx:0,selectedWeekIdx:0,userModifiedWeekMetrics:new Map,forceComponentUpdateCounter:0,viewMode:"developpement",strict:!0,plugins:[Object(h["a"])()]}},v=new i["a"].Store({state:{navbarModel:"",activedNavbar:"",mailpresent:"",PasswordRequire:"",loggedUserEmail:"",demoUserEmail:"",userDataObj:null,selectedParcelIdx:0,selectedYearIdx:0,selectedWeekIdx:0,userModifiedWeekMetrics:new Map,forceComponentUpdateCounter:0,viewMode:"developpement",strict:!0,plugins:[Object(h["a"])()]},getters:{getDisplayedUserEMail:function(e){return e.demoUserEmail?"visiteur.demo@apex-territoire.fr":e.loggedUserEmail},getDisplayedUserName:function(e){return e.demoUserEmail?"Visiteur":e.userDataObj?e.userDataObj.userName:"No userName"},getDisplayedUserNameIfNeeded:function(e){return function(t,r){return e.demoUserEmail&&t===e.demoUserEmail?"Visiteur":r}},parcelNameList:function(e){return null===e.userDataObj?[]:null!==e.userDataObj.parcels?e.userDataObj.parcels.map((function(e){return e.parcelName})):void 0},yearNumberList:function(e){return null!==e.userDataObj&&null!==e.userDataObj.parcels[e.selectedParcelIdx]?e.userDataObj.parcels[e.selectedParcelIdx].parcelYears.map((function(e){return e.yearNumber})):[]},weekLabelList:function(e){return null!==e.userDataObj&&null!==e.userDataObj.parcels[e.selectedParcelIdx]&&null!==e.userDataObj.parcels[e.selectedParcelIdx].parcelYears[e.selectedYearIdx]&&null!==e.userDataObj.parcels[e.selectedParcelIdx].parcelYears[e.selectedYearIdx].yearWeeks?e.userDataObj.parcels[e.selectedParcelIdx].parcelYears[e.selectedYearIdx].yearWeeks.map((function(e){return e.weekLabel})):[]},getParcelIdx:function(e){return function(t,r){return null!==e.userDataObj?e.userDataObj.parcels.findIndex((function(e){return e.parcelName===t&&e.dataOwnerEMail===r})):null}},getYearIdx:function(e){return function(t){return null!==e.userDataObj?e.userDataObj.parcels[0].parcelYears.findIndex((function(e){return e.yearNumber===t})):-1}},getWeekIdx:function(e){return function(t){return null!==e.userDataObj?e.userDataObj.parcels[0].parcelYears[0].yearWeeks.findIndex((function(e){return e.weekNumber===t})):-1}},getSelectedWeekMetric:function(e,t){return t.getWeekMetric(e.selectedParcelIdx,e.selectedYearIdx,e.selectedWeekIdx)},getWeekMetric:function(e){return function(t,r,a){var s="pIdx:".concat(t," yIdx:").concat(r," wIdx:").concat(a);if(e.userModifiedWeekMetrics.has(s))return e.userModifiedWeekMetrics.get(s);e.userDataObj.parcels[e.selectedParcelIdx].parcelYears[e.selectedYearIdx];var n=new Date(e.userDataObj.parcels[t].parcelYears[r].yearWeeks[a].weekFullDate),i={dataUserEMail:e.userDataObj.userEMail,dataOwnerEMail:e.userDataObj.parcels[t].dataOwnerEMail,parcelName:e.userDataObj.parcels[t].parcelName,yearNumber:e.userDataObj.parcels[t].parcelYears[r].yearNumber,weekNumber:e.userDataObj.parcels[t].parcelYears[r].yearWeeks[a].weekNumber,nbObsFullGrowth:e.userDataObj.parcels[t].parcelYears[r].yearWeeks[a].weekNbObsFullGrowth,nbObsSlowGrowth:e.userDataObj.parcels[t].parcelYears[r].yearWeeks[a].weekNbObsSlowGrowth,nbObsStoppedGrowth:e.userDataObj.parcels[t].parcelYears[r].yearWeeks[a].weekNbObsStoppedGrowth,dateTimeInMs:n.getTime(),modified:!1};return i}},getSelectedWeekMetricTotalNbObs:function(e,t){return t.getTotalNbObs(e.selectedParcelIdx,e.selectedYearIdx,e.selectedWeekIdx)},getTotalNbObs:function(e,t){return function(e,r,a){var s=t.getWeekMetric(e,r,a),n=parseInt(s.nbObsFullGrowth),i=parseInt(s.nbObsSlowGrowth),o=parseInt(s.nbObsStoppedGrowth);return n+i+o}},getSelectedWeekMetricAvgGrowth:function(e,t){return t.getAvgGrowth(e.selectedParcelIdx,e.selectedYearIdx,e.selectedWeekIdx)},getAvgGrowth:function(e,t){return function(e,r,a){var s=t.getWeekMetric(e,r,a),n=parseInt(s.nbObsFullGrowth),i=parseInt(s.nbObsSlowGrowth),o=parseInt(s.nbObsStoppedGrowth),l=n+i+o;return 0==l?0:Math.round(100*(n+.5*i)/l)/100}},getSelectedWeekMetricHydricConstraint:function(e,t){return t.getHydricConstraint(e.selectedParcelIdx,e.selectedYearIdx,e.selectedWeekIdx)},getHydricConstraint:function(e,t){return function(e,r,a){var s=t.getWeekMetric(e,r,a),n=parseInt(s.nbObsFullGrowth),i=parseInt(s.nbObsSlowGrowth),o=parseInt(s.nbObsStoppedGrowth),l=n+i+o,c=0,u=0,d=0;l>0&&(c=Math.round(n/l*100),u=Math.round(i/l*100),d=(.5*u+c)/100);var p=3;return d>=.75?p=0:u>=5?p=1:u<=90&&(p=2),0==l?0:p}}},mutations:{RESET:function(e){Object.assign(e,b())},initNavbarModel:function(e,t){e.navbarModel=t},initActivedNavbar:function(e,t){e.activedNavbar=t},initPasswordRequire:function(e,t){e.PasswordRequire=t},initmailpresent:function(e,t){e.mailpresent=t},initLoggedUserEmail:function(e,t){e.loggedUserEmail=t},initDemoUserEmail:function(e,t){e.demoUserEmail=t},initUserDataObj:function(e,t){e.userDataObj=t},updateSelectedParcelIdx:function(e,t){e.selectedParcelIdx=t,console.log(" store updated state.selectedParcelIdx "+e.selectedParcelIdx)},updateSelectedYearIdx:function(e,t){e.selectedYearIdx=t,console.log(" store updated state.selectedYearIdx "+e.selectedYearIdx)},updateSelectedWeekIdx:function(e,t){e.selectedWeekIdx=t,console.log(" store updated state.selectedWeekIdx "+e.selectedWeekIdx)},incrementForceComponentUpdateCounter:function(e){e.forceComponentUpdateCounter=e.forceComponentUpdateCounter+1}},actions:{login:function(e,t){var r=e.commit,a=t.loggedUserEmail;r("initLoggedUserEmail",a)},logout:function(e){var t=e.commit;t("RESET","")},initUserModifiedWeekMetrics:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,t.next=3,m.sendToModifiedWeekMetrics({transaction:"select_modifiedweekmetrics",dataUserEMail:r.userDataObj.userEMail});case 3:a=t.sent,n=Object(s["a"])(a);try{for(o=function(){var e=i.value,t=r.userDataObj.parcels.findIndex((function(t){return t.parcelName===e.parcelName&&t.dataOwnerEMail===e.dataOwnerEMail})),a=r.userDataObj.parcels[0].parcelYears.findIndex((function(t){return t.yearNumber===e.yearNumber})),s=r.userDataObj.parcels[0].parcelYears[0].yearWeeks.findIndex((function(t){return t.weekNumber===e.weekNumber}));e.modified=!0,r.userModifiedWeekMetrics.set("pIdx:".concat(t," yIdx:").concat(a," wIdx:").concat(s),e)},n.s();!(i=n.n()).done;)o()}catch(l){n.e(l)}finally{n.f()}console.log("state.userModifiedWeekMetrics"),console.log(r.userModifiedWeekMetrics);case 8:case"end":return t.stop()}}),t)})))()},saveSelectedWeekMetric:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.state,t.modified=!0,a.userModifiedWeekMetrics.set("pIdx:".concat(a.selectedParcelIdx," yIdx:").concat(a.selectedYearIdx," wIdx:").concat(a.selectedWeekIdx),t),!a.demoUserEmail){r.next=6;break}return console.log(" saveSelectedWeekMetric: update are kept only for the time of the user session"),r.abrupt("return");case 6:t.transaction="alter_modifiedweekmetrics",m.sendToModifiedWeekMetrics(t).then((function(e){console.log("Inserted or Updated affectedRows in TABLE modifiedWeekMetrics"+e)}));case 8:case"end":return r.stop()}}),r)})))()},deleteSelectedWeekMetric:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.state,!t.modified){r.next=10;break}if(a.userModifiedWeekMetrics.delete("pIdx:".concat(a.selectedParcelIdx," yIdx:").concat(a.selectedYearIdx," wIdx:").concat(a.selectedWeekIdx),t),!a.demoUserEmail){r.next=6;break}return console.log(" deleteSelectedWeekMetric: delete are considered only for the time of the user session"),r.abrupt("return");case 6:t.transaction="delete_modifiedweekmetrics",m.sendToModifiedWeekMetrics(t).then((function(e){console.log("Deleted affectedRows in TABLE modifiedWeekMetrics"+e)})),r.next=11;break;case 10:console.log(" week metric have not been modified it will deleted userModifiedWeekMetrics or in BD ");case 11:case"end":return r.stop()}}),r)})))()}}}),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},["/"!==e.$router.currentRoute.path&&"/login"!==e.$router.currentRoute.path?r("div",{attrs:{id:"header "}},[r("my-header")],1):e._e(),"/"!==e.$router.currentRoute.path?r("div",{attrs:{id:"navbar"}},[r("navbar")],1):e._e(),r("router-view"),r("div",{attrs:{id:"footer "}},[r("my-footer")],1)],1)},f=[],w=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},k=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"footer"},[r("div",{staticClass:"icones"},[r("a",{staticClass:"btn-floating btn-sm btn-fb mx-1",attrs:{href:"https://www.montpellier-supagro.fr/ ",target:"_blank"}},[r("i",[r("img",{staticStyle:{"max-width":"12%"},attrs:{src:"images/logoLInstitutAgro-MontpellierSupAgro.png"}})])]),r("a",{staticClass:"btn-floating btn-sm btn-fb mx-1",attrs:{href:"https://www.hdigitag.fr/fr/ ",target:"_blank"}},[r("i",[r("img",{attrs:{src:"images/logoDigitAg-reserve.png"}})])]),r("a",{staticClass:"btn-floating btn-sm btn-fb mx-1",attrs:{href:"http://www.inrae.fr",target:"_blank"}},[r("i",[r("img",{attrs:{src:"images/Logo-INRAE_Transparent.png",target:"_blank"}})])]),r("a",{staticClass:"btn-floating btn-sm btn-fb mx-1",attrs:{href:"https://muse.edu.umontpellier.fr/",target:"_blank"}},[r("i",[r("img",{attrs:{src:"images/Logo_MUSE.png"}})])])]),r("div",{staticClass:"copyright "},[e._v(" Copyright © 2020: "),r("a",{attrs:{href:"https://inrae.fr",target:"_blank"}},[e._v(" www.inrae.fr ")]),e._v(" | "),r("a",{attrs:{href:"https://www.hdigitag.fr/fr/",target:"_blank"}},[e._v(" www.hdigitag.fr")]),e._v(" et "),r("a",{attrs:{href:"#/legalMentions",target:"_blank"}},[e._v(" Mentions Légales | Crédits | Confidentialité")])])])}],x={name:"Footer",components:{}},_=x,y=(r("2457"),r("2877")),I=Object(y["a"])(_,w,k,!1,null,"fe375162",null),M=I.exports,O=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},C=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header",staticStyle:{"background-image":"url(images/2-Vignoble-Herault-Apex-jackmac34-Pixabay-LDD-1367095-1920x1285px.jpg)","background-size":"650px 180px"}},[r("h1",[e._v("ApeX Territoire")])])}],S={name:"Header",components:{}},j=S,$=(r("791f"),Object(y["a"])(j,O,C,!1,null,"bee1e0a0",null)),D=$.exports,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.$store.state.activedNavbar?r("div",{staticClass:"topnav"},[0===e.$store.state.navbarModel?r("div",[r("router-link",{staticClass:"nav-link",attrs:{to:"/map"}},[r("img",{attrs:{src:"images/map.png"}}),e._v(" Carte")]),r("router-link",{staticClass:"nav-link",attrs:{to:"/edit"}},[r("img",{attrs:{src:"images/pen1.png"}}),e._v(" Editer")]),r("router-link",{staticClass:"nav-link",attrs:{to:"/partage"}},[r("img",{attrs:{src:"images/import.png"}}),e._v(" Partager")]),r("router-link",{staticClass:"nav-link",attrs:{to:"/export"}},[r("img",{attrs:{src:"images/export.png"}}),e._v(" Exporter")]),r("router-link",{staticClass:"nav-link",attrs:{to:"/profil"}},[r("img",{attrs:{src:"images/profil.png"}}),e._v(" Authentification")]),r("router-link",{staticClass:"nav-link",attrs:{to:"/guide"}},[r("img",{attrs:{src:"images/guid.png"}}),e._v("Mode d'emploi")]),r("a",{staticClass:"nav-link",attrs:{id:"exit",href:""},on:{click:e.logout}},[r("img",{attrs:{src:"images/exit.png"}}),e._v(" Déconnexion")])],1):r("div",[r("b-navbar",{staticStyle:{width:"100%"},attrs:{toggleable:"",type:"dark",variant:"dark"}},[r("b-navbar-brand",{attrs:{href:"#"}},[e._v("Menu")]),r("b-navbar-toggle",{attrs:{target:"navbar-toggle-collapse"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.expanded;return[r("b-icon",t?{attrs:{icon:"chevron-bar-up"}}:{attrs:{icon:"chevron-bar-down"}})]}}],null,!1,1828389767)}),r("b-collapse",{attrs:{id:"navbar-toggle-collapse","is-nav":""}},[r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-item",{attrs:{href:"#/map"}},[r("b-icon-map"),e._v(" Carte")],1),r("b-nav-item",{attrs:{href:"#/edit"}},[r("b-icon-pen"),e._v(" Editer")],1),r("b-nav-item",{attrs:{href:"#/partage"}},[r("b-icon-box-arrow-in-up"),e._v(" Partager")],1),r("b-nav-item",{attrs:{href:"#/export"}},[r("b-icon-box-arrow-down"),e._v(" Exporter")],1),r("b-nav-item",{attrs:{href:"#/profil"}},[r("b-icon-person"),e._v("Authentification")],1),r("b-nav-item",{attrs:{href:"#/guide"}},[r("b-icon-book"),e._v(" Guide")],1),r("b-nav-item",{attrs:{href:""},on:{click:e.logout}},[r("b-icon-x-circle"),e._v("Déconnexion")],1)],1)],1)],1)],1)]):e._e()},E=[],P={name:"NavBar",components:{},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:window.innerWidth<900&&(r=1,e.$store.commit("initNavbarModel",r)),window.innerWidth>=900&&(a=0,e.$store.commit("initNavbarModel",a));case 2:case"end":return t.stop()}}),t)})))()},methods:{logout:function(){this.$store.dispatch("logout");var e="";this.$store.commit("initmailpresent",e);var t="";this.$store.commit("initPasswordRequire",t);var r="";this.$store.commit("initActivedNavbar",r);var a=0;this.$store.commit("initNavbarModel",a),this.$router.push("/")}}},W=P,U=(r("fa18"),Object(y["a"])(W,N,E,!1,null,"116a7f64",null)),A=U.exports,R={name:"App",components:{"my-footer":M,"my-header":D,navbar:A}},L=R,G=(r("034f"),Object(y["a"])(L,g,f,!1,null,null,null)),T=G.exports,Y=r("8c4f"),q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!==e.$store.state.userDataObj?r("div",{staticClass:"global",attrs:{id:"ApexMap"}},[r("div",{staticClass:"menu"},[r("div",{attrs:{id:"campagne "}},[r("b",[e._v("Campagne :")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedYearIdx,expression:"selectedYearIdx"}],staticClass:"custom-select",staticStyle:{width:"auto"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedYearIdx=t.target.multiple?r:r[0]}}},e._l(e.$store.getters.yearNumberList,(function(t,a){return r("option",{key:a,domProps:{value:a}},[e._v(" "+e._s(t)+" ")])})),0)]),r("div",{attrs:{id:"semaine"}},[r("b",[e._v("Semaine :")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedWeekIdx,expression:"selectedWeekIdx"}],staticClass:"custom-select",staticStyle:{width:"auto"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedWeekIdx=t.target.multiple?r:r[0]}}},e._l(e.$store.getters.weekLabelList,(function(t,a){return r("option",{key:a,domProps:{value:a}},[e._v(" "+e._s(t)+" ")])})),0)]),r("div",{attrs:{id:" parcelle"}},[r("b",[e._v("Parcelle :")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedParcelIdx,expression:"selectedParcelIdx"}],staticClass:"custom-select",staticStyle:{width:"auto"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedParcelIdx=t.target.multiple?r:r[0]}}},e._l(e.$store.getters.parcelNameList,(function(t,a){return r("option",{key:a,domProps:{value:a}},[e._v(" "+e._s(t)+" ("+e._s(e.$store.getters.getDisplayedUserNameIfNeeded(e.$store.state.userDataObj.parcels[a].dataOwnerEMail,e.$store.state.userDataObj.parcels[a].dataOwnerName))+") ")])})),0)]),r("div",{attrs:{id:"campagnepr"}},[r("button",{staticClass:"btn btn-dark",attrs:{id:"viewPrevYear"},on:{mouseover:function(t){return e.showPrevYear(!0)},mouseout:function(t){return e.showPrevYear(!1)}}},[r("i",{staticClass:"far fa-eye"}),e._v(" campagne précédente ")]),r("p",[null!==e.msgPrevYear?r("label",[e._v(" "+e._s(e.msgPrevYear)+" ")]):e._e()])])]),r("hr"),r("div",{staticClass:"map"},["debug"===e.$store.state.viewMode?r("div",{staticClass:"headermap"},[r("p",{staticClass:"text"},[e._v(" "+e._s("nbObsFullGrowth: "+e.$store.getters.getSelectedWeekMetric.nbObsFullGrowth+", nbObsSlowGrowth: "+e.$store.getters.getSelectedWeekMetric.nbObsSlowGrowth+", nbObsStoppedGrowth: "+e.$store.getters.getSelectedWeekMetric.nbObsStoppedGrowth+", (modified: "+e.$store.getters.getSelectedWeekMetric.modified+")")+" ")]),r("p",{staticClass:"text"},[e._v(" "+e._s("currentzoom: "+e.currentZoom+", currentCenter: "+e.currentCenter+")")+" ")])]):e._e(),r("div",{staticClass:"bodymap"},[r("l-map",{ref:"parcelInfoMap",staticStyle:{height:"90%"},attrs:{zoom:e.currentZoom,center:e.currentCenter,options:e.mapOptions},on:{"update:center":e.centerUpdate,"update:zoom":e.zoomUpdate,click:e.createMarker}},[r("l-tile-layer",{attrs:{url:e.url,attribution:e.attribution}}),null!==e.currentMarker?r("l-marker",{attrs:{"lat-lng":e.currentMarker,icon:e.createNewParcelIcon()},on:{click:function(t){return e.removeMarker()}}}):e._e(),e._l(e.$store.state.userDataObj.parcels,(function(t,a){return r("div",{key:a,staticClass:"parcels",attrs:{item:t,index:a}},[r("l-marker",{attrs:{"lat-lng":e.getLatLng(t.parcelCoord),icon:e.createIcon(a)},on:{click:function(t){return e.parcelMarkerClick(a)}}},[r("l-popup",[r("div",[r("p",{staticClass:"text",staticStyle:{"text-align":"left"}},[r("b",[e._v(" parcelle")]),e._v(" : "+e._s(t.parcelName)+" "),r("br"),r("b",[e._v("observateur")]),e._v(" : ("+e._s(e.$store.getters.getDisplayedUserNameIfNeeded(e.$store.state.userDataObj.parcels[a].dataOwnerEMail,e.$store.state.userDataObj.parcels[a].dataOwnerName))+") "),r("br"),r("b",[e._v("semaine du ")]),e._v(": "+e._s(e.$store.getters.weekLabelList[e.selectedWeekIdx])+" "+e._s(e.$store.getters.yearNumberList[e.selectedYearIdx])),r("br"),e.$store.getters.getSelectedWeekMetricTotalNbObs>0?[r("b",[e._v("Contrainte hydrique")]),e._v(" : "+e._s(e.$store.getters.getSelectedWeekMetricHydricConstraint)+" "),r("br"),r("b",[e._v("Indice de croissance")]),e._v(" : "+e._s(e.$store.getters.getSelectedWeekMetricAvgGrowth)+" "),r("br"),r("b",[e._v("observations")]),e._v(" : "+e._s(e.$store.getters.getSelectedWeekMetricTotalNbObs)+" "),r("br"),e._v(" # Pleine croissance : "+e._s(e.$store.getters.getSelectedWeekMetric.nbObsFullGrowth)+" "),r("br"),e._v(" # Croissance ralentie : "+e._s(e.$store.getters.getSelectedWeekMetric.nbObsSlowGrowth)+" "),r("br"),e._v(" # Croissance arrêtée : "+e._s(e.$store.getters.getSelectedWeekMetric.nbObsStoppedGrowth)+" "),r("br")]:[e._v(" (pas d'observations)"),r("br")],r("a",{staticStyle:{"text-align":"center"},attrs:{href:"#/edit"}},[e._v("éditer")])],2)])])],1)],1)}))],2)],1)]),r("div",{staticClass:"graphe"},[r("div",{attrs:{id:"title"}},[r("p",{staticStyle:{"font-size":"20px"}},[e._v(" Parcelle: "+e._s(this.$store.getters.parcelNameList[this.$store.state.selectedParcelIdx])+" ")])]),r("hr"),r("div",{attrs:{id:"graphe1"}},[r("p",{staticStyle:{"font-size":"15px"}},[e._v(" Croissance des apex semaine du "+e._s(this.$store.getters.weekLabelList[this.$store.state.selectedWeekIdx])+" "+e._s(this.$store.getters.yearNumberList[this.$store.state.selectedYearIdx])+" ")]),r("apex-growth-pie-chart",{staticClass:"item"})],1),r("hr"),r("div",{attrs:{id:"graphe2"}},[r("p",{staticStyle:{"font-size":"15px"}},[e._v(" Evolution de la croissance des apex "+e._s(this.$store.getters.yearNumberList[this.$store.state.selectedYearIdx])+" "),r("apex-growth-line-chart",{staticClass:"item"})],1)]),r("hr"),r("div",{attrs:{id:"graphe3"}},[r("p",{staticStyle:{"font-size":"15px"}},[e._v(" Evolution de la contrainte hydrique "+e._s(this.$store.getters.yearNumberList[this.$store.state.selectedYearIdx])+" "),r("apex-hydric-constraint-line-chart",{staticClass:"item"})],1)]),r("hr"),r("router-link",{staticClass:"nav-link",attrs:{to:"/edit"}},[e._v("éditer")])],1)]):e._e()},z=[],B=r("e11e"),F=r("2699"),V=r("a40a"),H=r("4e2b"),X=r("f60f"),J=function(){function e(){Object(o["a"])(this,e)}return Object(l["a"])(e,null,[{key:"avgGrowthToGreenColor",value:function(e){return e<0?"gray":e<=.125?"green_0":e<=.375?"green_25":e<=.625?"green_50":e<=.875?"green_75":e<=1?"green_100":"gray"}}]),e}(),Z=J,Q=r("1fca"),K={extends:Q["b"],mixins:[Q["c"].reactiveData],name:"ApexGrowthPieChart",data:function(){return{chartData:{labels:["% Pleine croissance   ","% Croissance ralentie","% Croissance arrétée"],datasets:[{data:[0,0,0],label:"croissance des apex",backgroundColor:["#2C6109","#6E9624","#C5DC68"],borderColor:["rgba(255, 255, 255, 1)","rgba(255, 255, 255, 1)","rgba(255, 255, 255, 1)"],borderWidth:1}]},chartNoData:{labels:["pas d'observations"],datasets:[{data:[-1],label:"croissance des apex",backgroundColor:["#cccccc"],borderColor:["rgba(255, 255, 255, 1)"],borderWidth:1}]},options:{animation:{duration:0},responsive:!0,maintainAspectRatio:!1,legend:{position:"right",onClick:function(e){return e.stopPropagation()}}}}},mounted:function(){var e=this;this.$nextTick((function(){e.$store.commit("incrementForceComponentUpdateCounter")}))},computed:{selectedWeekPieData:{get:function(){var e=this.$store.state.forceComponentUpdateCounter,t=this.$store.getters.getSelectedWeekMetric,r=parseInt(t.nbObsFullGrowth),a=parseInt(t.nbObsSlowGrowth),s=parseInt(t.nbObsStoppedGrowth),n=0,i=0,o=0,l=r+a+s;l>0&&(n=Math.round(r/l*100),i=Math.round(a/l*100),o=Math.round(s/l*100));var c={nbTotalObs:l,prctGrowthList:[n,i,o],forcedChartUpdateCounter:e};return c}}},watch:{selectedWeekPieData:function(e){e.nbTotalObs>0?(this.chartData.datasets[0].data=e.prctGrowthList,this.renderChart(this.chartData,this.options)):(this.chartNoData.datasets[0].data=[-1],this.renderChart(this.chartNoData,this.options))}}},ee={extends:Q["a"],mixins:[Q["c"].reactiveData],name:"ApexGrowthLineChart",data:function(){return{chartData:{labels:[],datasets:[{label:"Indice croiss.",yAxisID:"A",fill:!1,lineTension:.1,backgroundColor:"rgba(242, 142, 146, 0.2)",borderColor:"rgb(242, 142, 146)",borderCapStyle:"square",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"black",pointBackgroundColor:"white",pointBorderWidth:1,pointHoverRadius:8,pointHoverBackgroundColor:"rgb(242, 142, 146)",pointHoverBorderColor:"white",pointHoverBorderWidth:2,pointRadius:4,pointHitRadius:10,data:[]},{label:"% pleine",yAxisID:"B",fill:!0,hidden:!0,lineTension:.1,backgroundColor:"rgba(247, 201, 161, 0.2)",borderColor:"rgb(247, 201, 161)",borderCapStyle:"square",borderDash:[5,5],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"black",pointBackgroundColor:"white",pointBorderWidth:1,pointHoverRadius:8,pointHoverBackgroundColor:"rgb(247, 201, 161)",pointHoverBorderColor:"white",pointHoverBorderWidth:2,pointRadius:4,pointHitRadius:10,data:[]},{label:"% ralentie",yAxisID:"B",fill:!0,hidden:!1,lineTension:.1,backgroundColor:"rgba(144, 190, 184, 0.2)",borderColor:"rgb(144, 190, 184)",borderCapStyle:"square",borderDash:[5,5],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"black",pointBackgroundColor:"white",pointBorderWidth:1,pointHoverRadius:8,pointHoverBackgroundColor:"rgb(144, 190, 184)",pointHoverBorderColor:"white",pointHoverBorderWidth:2,pointRadius:4,pointHitRadius:10,data:[]},{label:"% arrétée",yAxisID:"B",fill:!0,hidden:!0,lineTension:.1,backgroundColor:"rgba(105, 134, 143, 0.2)",borderColor:"rgb(105, 134, 143)",borderCapStyle:"square",borderDash:[5,5],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"black",pointBackgroundColor:"white",pointBorderWidth:1,pointHoverRadius:8,pointHoverBackgroundColor:"rgb(105, 134, 143)",pointHoverBorderColor:"white",pointHoverBorderWidth:2,pointRadius:4,pointHitRadius:10,data:[]}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{position:"bottom"},scales:{xAxes:[{ticks:{autoSkip:!1,fullWidth:!0,suggestedMax:14}}],yAxes:[{id:"A",type:"linear",position:"left",scaleLabel:{display:!0,labelString:"Indice croiss.",fontSize:11},ticks:{max:1,min:0,stepSize:.25}},{id:"B",type:"linear",position:"right",scaleLabel:{display:!0,labelString:"% Apex",fontSize:11},ticks:{max:100,min:0,stepSize:25}}]}}}},mounted:function(){var e=this;this.$nextTick((function(){e.$store.commit("incrementForceComponentUpdateCounter")}))},computed:{selectedParcelYearWeeksGrowthData:{get:function(){for(var e=this.$store.state.selectedParcelIdx,t=this.$store.state.selectedYearIdx,r=this.$store.state.forceComponentUpdateCounter,a=[],s=[],n=[],i=[],o=this.$store.getters.weekLabelList,l=o.length,c=0;c<l;c++){var u=this.$store.getters.getWeekMetric(e,t,c),d=parseInt(u.nbObsFullGrowth),p=parseInt(u.nbObsSlowGrowth),m=parseInt(u.nbObsStoppedGrowth),h=null,b=null,v=null,g=null,f=d+p+m;f>0&&(h=Math.round(d/f*100),b=Math.round(p/f*100),v=Math.round(m/f*100),g=(.5*b+h)/100),a.push(h),s.push(b),n.push(v),i.push(g)}var w={weekLabelList:o,prctFullGrowth:a,prctSlowGrowth:s,prctStoppedGrowth:n,icApex:i,forcedChartUpdateCounter:r};return w}}},watch:{selectedParcelYearWeeksGrowthData:function(e){this.chartData.labels=e.weekLabelList,this.chartData.datasets[0].data=e.icApex,this.chartData.datasets[1].data=e.prctFullGrowth,this.chartData.datasets[2].data=e.prctSlowGrowth,this.chartData.datasets[3].data=e.prctStoppedGrowth,this.renderChart(this.chartData,this.options)}}},te={extends:Q["a"],mixins:[Q["c"].reactiveData],name:"ApexHydricConstraintLineChart",data:function(){return{chartData:{labels:[],datasets:[{label:"Niveau contrainte hydrique",yAxisID:"CH",fill:!0,steppedLine:"middle",lineTension:.1,backgroundColor:"rgba(151, 162, 191, 0.2)",borderColor:"rgb(151, 162, 191)",borderCapStyle:"square",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"black",pointBackgroundColor:"white",pointBorderWidth:1,pointHoverRadius:8,pointHoverBackgroundColor:"rgb(151, 162, 191)",pointHoverBorderColor:"white",pointHoverBorderWidth:2,pointRadius:4,pointHitRadius:10,data:[]}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{position:"bottom"},scales:{xAxes:[{ticks:{suggestedMax:14}}],yAxes:[{id:"CH",type:"linear",position:"left",ticks:{max:3,min:0,stepSize:1,callback:function(e){switch(e){case 0:return"Absente";case 1:return"Modérée";case 2:return"Forte";case 3:return"Sévère"}}}}]}}}},mounted:function(){var e=this;this.$nextTick((function(){e.$store.commit("incrementForceComponentUpdateCounter")}))},computed:{selectedParcelYearWeeksHydricConstraint:{get:function(){for(var e=this.$store.state.forceComponentUpdateCounter,t=[],r=this.$store.state.selectedParcelIdx,a=this.$store.state.selectedYearIdx,s=this.$store.getters.weekLabelList,n=s.length,i=0;i<n;i++){var o=this.$store.getters.getWeekMetric(r,a,i),l=parseInt(o.nbObsFullGrowth),c=parseInt(o.nbObsSlowGrowth),u=parseInt(o.nbObsStoppedGrowth),d=0,p=0,m=0,h=l+c+u;h>0&&(d=Math.round(l/h*100),p=Math.round(c/h*100),m=(.5*p+d)/100);var b=3;m>=.75?b=0:p>=5?b=1:p<=90&&(b=2),h<=0&&(b=0,b=null),t.push(b)}var v={weekLabelList:s,hydricContraintList:t,forcedChartUpdateCounter:e};return v}}},watch:{selectedParcelYearWeeksHydricConstraint:function(e){this.chartData.labels=e.weekLabelList,this.chartData.datasets[0].data=e.hydricContraintList,this.renderChart(this.chartData,this.options)}}};r("f9e3"),r("2dd8");delete B["Icon"].Default.prototype._getIconUrl,B["Icon"].Default.mergeOptions({iconRetinaUrl:r("584d"),iconUrl:r("6397"),shadowUrl:r("e2b9")});var re={name:"ApexMap",components:{LMap:F["a"],LTileLayer:V["a"],LMarker:H["a"],LPopup:X["a"],ApexGrowthPieChart:K,ApexGrowthLineChart:ee,ApexHydricConstraintLineChart:te},data:function(){return{selectedParcelIdx:0,selectedYearIdx:0,selectedWeekIdx:0,url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",currentZoom:18,currentCenter:Object(B["latLng"])(43.6452,3.87189),mapOptions:{zoomSnap:.5},prevYearIsShowned:!1,msgPrevYear:null,currentMarker:null}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.state.loggedUserEmail||e.$router.push("/"),e.selectedParcelIdx=e.$store.state.selectedParcelIdx,e.selectedYearIdx=e.$store.state.selectedYearIdx,e.selectedWeekIdx=e.$store.state.selectedWeekIdx;case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){this.$store.state.loggedUserEmail||this.$router.push("/"),this.selectedParcelIdx=this.$store.state.selectedParcelIdx,this.selectedYearIdx=this.$store.state.selectedYearIdx,this.selectedWeekIdx=this.$store.state.selectedWeekIdx,this.parcelMarkerClick(this.selectedParcelIdx),this.$store.commit("incrementForceComponentUpdateCounter")},watch:{selectedParcelIdx:function(e){this.$store.commit("updateSelectedParcelIdx",e),this.parcelMarkerClick(e)},selectedYearIdx:function(e){this.$store.commit("updateSelectedYearIdx",e)},selectedWeekIdx:function(e){this.$store.commit("updateSelectedWeekIdx",e)},currentCenter:function(e){this.$refs.parcelInfoMap.setCenter(e)}},methods:{createMarker:function(e){console.log(e.latlng)},createNewParcelIcon:function(){var e=-1,t=Z.avgGrowthToGreenColor(e);return new B["Icon"]({iconUrl:"images/my_"+t+"_pin.png",iconSize:[22,35],iconAnchor:[11,34],popupAnchor:[0,-34]})},removeMarker:function(){this.currentMarker=null},zoomUpdate:function(e){this.currentZoom=e},centerUpdate:function(e){this.currentCenter=e},getLatLng:function(e){return Object(B["latLng"])(e.lat,e.lng)},parcelMarkerClick:function(e){console.log("parcelMarkerClick pIdx: "+e),e!==this.selectedParcelIdx&&(this.selectedParcelIdx=parseInt(e));var t=this.$store.state.userDataObj.parcels[e].parcelCoord.lat,r=this.$store.state.userDataObj.parcels[e].parcelCoord.lng;this.currentCenter=Object(B["latLng"])(t,r)},showPrevYear:function(e){e?0===this.selectedYearIdx?this.msgPrevYear="pas d'observations avant "+this.$store.getters.yearNumberList[this.selectedYearIdx]:(this.selectedYearIdx=this.selectedYearIdx-1,this.prevYearIsShowned=e):(this.prevYearIsShowned&&(this.selectedYearIdx=this.selectedYearIdx+1,this.prevYearIsShowned=e),this.msgPrevYear=null)},createIcon:function(e){var t=-1,r=this.$store.getters.getTotalNbObs(e,this.selectedYearIdx,this.selectedWeekIdx);r>0&&(t=this.$store.getters.getAvgGrowth(e,this.selectedYearIdx,this.selectedWeekIdx),t=Math.round(100*t)/100);var a=Z.avgGrowthToGreenColor(t);return!0===this.prevYearIsShowned?(console.log(" color pin border : "),a+="_bordered"):e===this.selectedParcelIdx&&(a+="_spotted"),new B["Icon"]({iconUrl:"images/my_"+a+"_pin.png",iconSize:[22,35],iconAnchor:[11,34],popupAnchor:[0,-34]})}}},ae=re,se=(r("27ed"),Object(y["a"])(ae,q,z,!1,null,"7ad200b0",null)),ne=se.exports,ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!==e.$store.state.userDataObj?r("div",{staticClass:"global"},[r("div",{staticClass:"meta"},[r("div",{staticClass:"title"},[r("hr"),r("h4",[e._v("Bonjour "+e._s(e.$store.getters.getDisplayedUserName))]),r("hr")]),r("div",{staticClass:"menu"},[r("div",{attrs:{id:"compagne"}},[r("b",[e._v("Campagne :")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedYearIdx,expression:"selectedYearIdx"}],staticClass:"custom-select",staticStyle:{width:"auto"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedYearIdx=t.target.multiple?r:r[0]}}},e._l(e.$store.getters.yearNumberList,(function(t,a){return r("option",{key:a,domProps:{value:a}},[e._v(e._s(t)+" ")])})),0)]),r("div",{attrs:{id:"semaine"}},[r("b",[e._v("Semaine :")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedWeekIdx,expression:"selectedWeekIdx"}],staticClass:"custom-select",staticStyle:{width:"auto"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedWeekIdx=t.target.multiple?r:r[0]}}},e._l(e.$store.getters.weekLabelList,(function(t,a){return r("option",{key:a,domProps:{value:a}},[e._v(e._s(t)+" ")])})),0)]),r("div",{attrs:{id:"parcelle"}},[r("b",[e._v("Parcelle :")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedParcelIdx,expression:"selectedParcelIdx"}],staticClass:"custom-select",staticStyle:{width:"auto"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedParcelIdx=t.target.multiple?r:r[0]}}},e._l(e.$store.getters.parcelNameList,(function(t,a){return r("option",{key:a,domProps:{value:a}},[e._v(e._s(t)+" ("+e._s(e.$store.getters.getDisplayedUserNameIfNeeded(e.$store.state.userDataObj.parcels[a].dataOwnerEMail,e.$store.state.userDataObj.parcels[a].dataOwnerName))+") ")])})),0)])]),r("div",{staticClass:"table"},[r("hr"),r("table",{staticClass:"table-striped"},[e._m(0),r("tbody",[r("td",[r("b-form-input",{staticStyle:{width:"auto","text-align":"center","margin-left":"auto","margin-right":"auto"},attrs:{type:"number"},model:{value:e.selectedWeekMetric.nbObsFullGrowth,callback:function(t){e.$set(e.selectedWeekMetric,"nbObsFullGrowth",t)},expression:"selectedWeekMetric.nbObsFullGrowth"}})],1),r("td",[r("b-form-input",{staticStyle:{width:"auto","text-align":"center","margin-left":"auto","margin-right":"auto"},attrs:{type:"number"},model:{value:e.selectedWeekMetric.nbObsSlowGrowth,callback:function(t){e.$set(e.selectedWeekMetric,"nbObsSlowGrowth",t)},expression:"selectedWeekMetric.nbObsSlowGrowth"}})],1),r("td",[r("b-form-input",{staticStyle:{width:"auto","text-align":"center","margin-left":"auto","margin-right":"auto"},attrs:{type:"number"},model:{value:e.selectedWeekMetric.nbObsStoppedGrowth,callback:function(t){e.$set(e.selectedWeekMetric,"nbObsStoppedGrowth",t)},expression:"selectedWeekMetric.nbObsStoppedGrowth"}})],1),r("td",[r("button",{staticClass:"btn btn-primary btn-sm",staticStyle:{"margin-right":"20px"},attrs:{id:"btnsendmodif"},on:{click:function(t){return e.updateSelectedWeekMetric()}}},[e._v(" Modifier ")]),r("button",{staticClass:"btn btn-warning btn-sm",attrs:{id:"btnsenddelete"},on:{click:function(t){return e.reInitSelectedWeekMetric()}}},[e._v(" Réinitialiser ")])])])]),r("hr")]),r("div",[e._v(" "+e._s(e.msg)+" "),e._l(e.errors,(function(t,a){return r("div",{key:a,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2)]),r("div",{staticClass:"btn"},[r("hr"),r("router-link",{staticClass:"btn btn-success btn-sm",staticStyle:{"margin-bottom":"20px"},attrs:{to:"/map",tag:"button"}},[e._v("Retour à la carte")]),r("hr")],1),r("div",{staticClass:"graphe"},[r("div",{attrs:{id:"titlegraphe"}},[r("p",{staticStyle:{"font-size":"20px"}},[e._v(" Parcelle: "+e._s(this.$store.getters.parcelNameList[this.$store.state.selectedParcelIdx])+" ")])]),r("hr"),r("div",{attrs:{id:"graphe1"}},[r("p",{staticStyle:{"font-size":"15px"}},[e._v(" Croissance des apex semaine du "+e._s(this.$store.getters.weekLabelList[this.$store.state.selectedWeekIdx])+" "+e._s(this.$store.getters.yearNumberList[this.$store.state.selectedYearIdx])+" ")]),r("apex-growth-pie-chart",{staticClass:"item"})],1),r("hr"),r("div",{attrs:{id:"graphe2"}},[r("p",{staticStyle:{"font-size":"15px"}},[e._v(" Evolution de la croissance des apex "+e._s(this.$store.getters.yearNumberList[this.$store.state.selectedYearIdx])+" "),r("apex-growth-line-chart",{staticClass:"item"})],1)]),r("hr"),r("div",{attrs:{id:"graphe3"}},[r("p",{staticStyle:{"font-size":"15px"}},[e._v(" Evolution de la contrainte hydrique "+e._s(this.$store.getters.yearNumberList[this.$store.state.selectedYearIdx])+" "),r("apex-hydric-constraint-line-chart",{staticClass:"item"})],1)])])]):e._e()},oe=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("# Pleine croissance")]),r("th",[e._v("# Croissance ralentie")]),r("th",[e._v("# Croissance arrêtée")]),r("th",{attrs:{colspan:"2"}},[e._v("Operations")])])])}],le={components:{ApexGrowthPieChart:K,ApexGrowthLineChart:ee,ApexHydricConstraintLineChart:te},data:function(){return{selectedParcelIdx:0,selectedYearIdx:0,selectedWeekIdx:0,selectedWeekMetric:{},msg:"",errors:[]}},created:function(){this.$store.state.loggedUserEmail||this.$router.push("/"),this.selectedParcelIdx=this.$store.state.selectedParcelIdx,this.selectedYearIdx=this.$store.state.selectedYearIdx,this.selectedWeekIdx=this.$store.state.selectedWeekIdx,this.selectedWeekMetric=this.$store.getters.getSelectedWeekMetric},mounted:function(){this.$store.state.loggedUserEmail||this.$router.push("/"),this.selectedParcelIdx=this.$store.state.selectedParcelIdx,this.selectedYearIdx=this.$store.state.selectedYearIdx,this.selectedWeekIdx=this.$store.state.selectedWeekIdx,this.msg="",this.errors=[],this.selectedWeekMetric=this.$store.getters.getSelectedWeekMetric,this.$store.commit("incrementForceComponentUpdateCounter")},methods:{formIsValid:function(){var e=!0;return isNaN(parseInt(this.selectedWeekMetric.nbObsFullGrowth))?(this.errors.push("# Pleine croissance : '"+this.selectedWeekMetric.nbObsFullGrowth+"' n'est pas un entier "),e=!1):parseInt(this.selectedWeekMetric.nbObsFullGrowth)>=0?this.selectedWeekMetric.nbObsFullGrowth=parseInt(this.selectedWeekMetric.nbObsFullGrowth):(this.errors.push("# Pleine croissance : '"+this.selectedWeekMetric.nbObsFullGrowth+"' n'est pas un entier positif "),e=!1),isNaN(parseInt(this.selectedWeekMetric.nbObsSlowGrowth))?(this.errors.push("# Croissance ralentie : '"+this.selectedWeekMetric.nbObsSlowGrowth+"' n'est pas un entier"),e=!1):parseInt(this.selectedWeekMetric.nbObsSlowGrowth)>=0?this.selectedWeekMetric.nbObsSlowGrowth=parseInt(this.selectedWeekMetric.nbObsSlowGrowth):(this.errors.push("# Croissance ralentie  : '"+this.selectedWeekMetric.nbObsSlowGrowth+"' n'est pas un entier positif "),e=!1),isNaN(parseInt(this.selectedWeekMetric.nbObsStoppedGrowth))?(this.errors.push("# Croissance arretée : '"+this.selectedWeekMetric.nbObsStoppedGrowth+"' n' est pas un entier "),e=!1):parseInt(this.selectedWeekMetric.nbObsStoppedGrowth)>=0?this.selectedWeekMetric.nbObsStoppedGrowth=parseInt(this.selectedWeekMetric.nbObsStoppedGrowth):(this.errors.push("# Croissance arretée : '"+this.selectedWeekMetric.nbObsStoppedGrowth+"' n'est pas un entier positif "),e=!1),this.msg="Les données de la semaine n'ont pas été modifiées",e},updateSelectedWeekMetric:function(){var e=this;this.msg="",this.errors=[],console.log("START updateSelectedWeekMetric"),this.formIsValid()&&this.$store.dispatch("saveSelectedWeekMetric",this.selectedWeekMetric).then((function(){e.selectedWeekMetric=e.$store.getters.getSelectedWeekMetric,e.$store.commit("incrementForceComponentUpdateCounter"),e.errors=[],e.msg="Les données de la semaine ont bien été modifiées, ",e.$store.state.demoUserEmail&&(e.msg+=" pour le "+e.$store.getters.getDisplayedUserName+" ces modifications sont effectives que le temps de la session")})),console.log("END updateSelectedWeekMetric")},reInitSelectedWeekMetric:function(){var e=this;this.msg="",this.errors=[];var t=this.$store.getters.getSelectedWeekMetric,r="pIdx:".concat(this.selectedParcelIdx," yIdx:").concat(this.selectedYearIdx," wIdx:").concat(this.selectedWeekIdx);this.$store.state.userModifiedWeekMetrics.has(r)&&this.$store.dispatch("deleteSelectedWeekMetric",t).then((function(){e.selectedWeekMetric=e.$store.getters.getSelectedWeekMetric,e.$store.commit("incrementForceComponentUpdateCounter"),e.errors=[],e.msg="Les données de la semaine ont été réinitialisées aux valeurs collectées dans ApeX Vignes",e.$store.state.demoUserEmail&&(e.msg+=" pour l'"+e.$store.getters.getDisplayedUserName+" ces modifications sont effectives que le temps de la session")}))}},watch:{selectedParcelIdx:function(e){this.$store.commit("updateSelectedParcelIdx",e),this.selectedWeekMetric=this.$store.getters.getSelectedWeekMetric,this.msg="",this.errors=[]},selectedYearIdx:function(e){this.$store.commit("updateSelectedYearIdx",e),this.selectedWeekMetric=this.$store.getters.getSelectedWeekMetric,this.msg="",this.errors=[]},selectedWeekIdx:function(e){this.$store.commit("updateSelectedWeekIdx",e),this.selectedWeekMetric=this.$store.getters.getSelectedWeekMetric,this.msg="",this.errors=[]}}},ce=le,ue=(r("aaaa"),Object(y["a"])(ce,ie,oe,!1,null,"6a6a65de",null)),de=ue.exports,pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"global"},[r("div",{staticClass:"title"},[r("hr"),r("h4",[e._v("Bonjour "+e._s(e.$store.getters.getDisplayedUserName))]),r("hr")]),r("div",{staticClass:"menu"},[r("h5",{attrs:{id:"menutitle"}},[r("b",[e._v("Nouveau partage des observations collectées par "+e._s(e.$store.getters.getDisplayedUserName)+" ")])]),r("div",{attrs:{id:"menuselect"}},[e._m(0),r("select",{directives:[{name:"model",rawName:"v-model",value:e.parcelp,expression:"parcelp"}],staticClass:"custom-select",staticStyle:{width:"auto"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.parcelp=t.target.multiple?r:r[0]}}},e._l(e.parcelNameListObservedByLoggedUser,(function(t,a){return r("option",{key:a,attrs:{item:t}},[e._v(" "+e._s(t)+" ")])})),0)]),r("div",{attrs:{id:"menuinput"}},[e._m(1),r("input",{directives:[{name:"model",rawName:"v-model",value:e.mailp,expression:"mailp"}],attrs:{id:"input",type:"text",name:"mailp"},domProps:{value:e.mailp},on:{input:function(t){t.target.composing||(e.mailp=t.target.value)}}})]),r("div",{attrs:{id:"btn"}},[r("button",{staticClass:"btn btn-info btn-sm",attrs:{id:"buttonverif"},on:{click:function(t){return e.checkEMailAndParcel()}}},[e._v(" Vérifier ")]),r("button",{staticClass:"btn btn-success btn-sm",staticStyle:{weight:"auto"},attrs:{id:"buttoninsert"},on:{click:function(t){return e.insertParcelDataSharedToSomn()}}},[e._v(" Ajouter ")])])]),r("p",[e._v(e._s(e.message))]),r("hr"),r("div",{staticClass:"body"},[r("div",{staticClass:"obspartager"},[r("h5",[r("b",[e._v(" Liste des observations partagées par "+e._s(e.$store.getters.getDisplayedUserName)+" ")])]),r("table",{staticClass:"table-striped"},[e._m(2),r("tbody",e._l(e.parcelRowsSharedToSomeone,(function(t,a){return r("tr",{key:a,attrs:{index:a}},[r("td",[e._v(e._s(e.$store.getters.getDisplayedUserEMail))]),r("td",[e._v(e._s(t.dataUserEMail))]),r("td",[e._v(e._s(t.parcelName))]),r("td",[r("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(r){return e.deleteParcelDataSharedToSomn(t.dataOwnerEMail,t.dataUserEMail,t.parcelName)}}},[e._v(" Supprimer ")])])])})),0)])]),r("hr"),r("div",{staticClass:"obsrecu"},[e._m(3),r("table",{staticClass:"table-striped"},[e._m(4),r("tbody",e._l(e.parcelRowsSharedBySomeone,(function(t,a){return r("tr",{key:a,attrs:{index:a}},[r("td",[e._v(e._s(t.dataOwnerEMail))]),r("td",[e._v(e._s(e.$store.getters.getDisplayedUserEMail))]),r("td",[e._v(e._s(t.parcelName))])])})),0)])])]),r("hr")])},me=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",[r("b",[e._v("Parcelle")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticStyle:{"margin-left":"10px"},attrs:{id:"labelinput",for:"mail"}},[r("b",[e._v("Mail Destinataire ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("Observateur")]),r("th",[e._v("Destinataire")]),r("th",[e._v("Parcelle")]),r("th",[e._v("Operation")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h5",[r("b",[e._v("Liste des observations partagées par un autre utilisateur")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("Observateur")]),r("th",[e._v("Destinataire")]),r("th",[e._v("Parcelle")])])])}],he={name:"App",components:{},data:function(){return{dataOwnerEMail:"",dataUserEMail:"",parcelName:"",date:"",userDataObj:[],userDBRows:[],error:"",text:"",pIdx:0,yIdx:"",wIdx:"",message:"",parcelp:"",mailp:"",parcelRowsSharedToSomeone:[],parcelRowsSharedBySomeone:[]}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.state.loggedUserEmail||e.$router.push("/"),t.prev=1,t.next=4,m.sendToParcelDataSharing({transaction:"select_parceldatasharing",ownerEMail:e.$store.state.loggedUserEmail});case 4:return e.parcelRowsSharedToSomeone=t.sent,console.log("parcelRowsSharedToSomeone"),console.log(e.parcelRowsSharedToSomeone),t.next=9,m.sendToParcelDataSharing({transaction:"select_parceldatasharing",userEMail:e.$store.state.loggedUserEmail});case 9:e.parcelRowsSharedBySomeone=t.sent,console.log("parcelRowsSharedBySomeone"),console.log(e.parcelRowsSharedBySomeone),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](1),console.log(t.t0.message),e.error=t.t0.message;case 18:case"end":return t.stop()}}),t,null,[[1,14]])})))()},computed:{parcelNameListObservedByLoggedUser:function(){var e=this;return null!==this.$store.state.userDataObj&&null!==this.$store.state.userDataObj.parcels?this.$store.state.userDataObj.parcels.map((function(t){if(t.dataOwnerEMail===e.$store.state.userDataObj.userEMail)return t.parcelName})):[]}},methods:{checkEMailAndParcel:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.message="",t.abrupt("return",new Promise((function(t,r){if(e.$store.state.demoUserEmail)e.message=e.$store.getters.getDisplayedUserEMail+" n'est pas authorisé à ajouter de nouveaux partages",t(!1);else{var a,n=!1,i=Object(s["a"])(e.parcelRowsSharedToSomeone);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.dataOwnerEMail===e.$store.state.loggedUserEmail&&o.dataUserEMail===e.mailp&&o.parcelName===e.parcelp&&(e.message="Les informations de la parcelle sont déjà partagées avec l'utilisateur",n=!0)}}catch(l){i.e(l)}finally{i.f()}if(n)t(!1);else try{m.checkEMail(e.mailp).then((function(r){!0===r?e.parcelp?(e.message="La parcelle et le mail sont valides",e.parcelName=e.parcelp,t(!0)):(e.message="Choisir la parcelle",t(!1)):(e.message="Mail non valide",e.parcelName="",t(!0))}))}catch(l){r(l)}}})));case 2:case"end":return t.stop()}}),t)})))()},insertParcelDataSharedToSomn:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$store.state.demoUserEmail){t.next=3;break}return e.message=e.$store.getters.getDisplayedUserName+" n'est pas authorisé à ajouter de nouveaux partages, connectez-vous en tant qu'utilisateur",t.abrupt("return");case 3:return console.log("START insertParcelDataSharedToSomn"),t.next=6,e.checkEMailAndParcel(e.mailp);case 6:if(r=t.sent,console.log("mailAndParcelAreValid "+r),!r){t.next=18;break}return t.next=11,m.sendToParcelDataSharing({transaction:"insert_parceldatasharing",dataUserEMail:e.mailp,dataOwnerEMail:e.$store.state.userDataObj.userEMail,parcelName:e.parcelp});case 11:return a=t.sent,console.log("res insert_parceldatasharing "),console.log(a),t.next=16,m.sendToParcelDataSharing({transaction:"select_parceldatasharing",ownerEMail:e.$store.state.userDataObj.userEMail});case 16:e.parcelRowsSharedToSomeone=t.sent,e.message="La parcelle et le mail destinataire ont été ajoutés";case 18:console.log("END insertParcelDataSharedToSomn");case 19:case"end":return t.stop()}}),t)})))()},deleteParcelDataSharedToSomn:function(e,t,r){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!a.$store.state.demoUserEmail){s.next=3;break}return a.message=a.$store.getters.getDisplayedUserName+" n'est pas authorisé à supprimer les informations de partage",s.abrupt("return");case 3:return s.next=5,m.sendToParcelDataSharing({transaction:"delete_parceldatasharing",dataUserEMail:t,dataOwnerEMail:e,parcelName:r});case 5:return s.next=7,m.sendToParcelDataSharing({transaction:"select_parceldatasharing",ownerEMail:a.$store.state.userDataObj.userEMail});case 7:a.parcelRowsSharedToSomeone=s.sent;case 8:case"end":return s.stop()}}),s)})))()}},watch:{selectedParcelIdx:function(e){this.$store.commit("updateSelectedParcelIdx",e)}}},be=he,ve=(r("ecb7"),Object(y["a"])(be,pe,me,!1,null,"46e34979",null)),ge=ve.exports,fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!==e.$store.state.userDataObj?r("div",{staticClass:"global"},[r("br"),r("div",{staticClass:"title"},[r("hr"),r("h4",[e._v("Bonjour "+e._s(e.$store.getters.getDisplayedUserName))]),r("hr")]),r("div",{staticClass:"menu"},[r("div",{attrs:{id:"compagne"}},[r("b",[e._v("Campagne :")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedYearIdx,expression:"selectedYearIdx"}],staticClass:"custom-select",staticStyle:{width:"auto"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedYearIdx=t.target.multiple?r:r[0]}}},e._l(e.$store.getters.yearNumberList,(function(t,a){return r("option",{key:a,domProps:{value:a}},[e._v(e._s(t)+" ")])})),0)]),r("div",{attrs:{id:"semaine"}},[r("b",[e._v("Semaine :")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedWeekIdx,expression:"selectedWeekIdx"}],staticClass:"custom-select",staticStyle:{width:"auto"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedWeekIdx=t.target.multiple?r:r[0]}}},e._l(e.$store.getters.weekLabelList,(function(t,a){return r("option",{key:a,domProps:{value:a}},[e._v(e._s(t)+" ")])})),0)]),r("div",{attrs:{id:"parcelle"}},[r("b",[e._v("Parcelle :")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedParcelIdx,expression:"selectedParcelIdx"}],staticClass:"custom-select",staticStyle:{width:"auto"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedParcelIdx=t.target.multiple?r:r[0]}}},e._l(e.$store.getters.parcelNameList,(function(t,a){return r("option",{key:a,domProps:{value:a}},[e._v(e._s(t)+" ("+e._s(e.$store.getters.getDisplayedUserNameIfNeeded(e.$store.state.userDataObj.parcels[a].dataOwnerEMail,e.$store.state.userDataObj.parcels[a].dataOwnerName))+") ")])})),0)])]),r("div",{staticClass:"graphe"},[r("div",{attrs:{id:"graphe1"}},[r("p",{staticStyle:{"font-size":"15px"}},[e._v(" Croissance des apex semaine du "+e._s(this.$store.getters.weekLabelList[this.$store.state.selectedWeekIdx])+" "+e._s(this.$store.getters.yearNumberList[this.$store.state.selectedYearIdx])+" ")]),r("apex-growth-pie-chart",{staticClass:"item"})],1),r("div",{attrs:{id:"graphe2"}},[r("p",{staticStyle:{"font-size":"15px"}},[e._v(" Evolution de la croissance des apex "+e._s(this.$store.getters.yearNumberList[this.$store.state.selectedYearIdx])+" "),r("apex-growth-line-chart",{staticClass:"item"})],1)]),r("div",{attrs:{id:"graphe3"}},[r("p",{staticStyle:{"font-size":"15px"}},[e._v(" Evolution de la contrainte hydrique "+e._s(this.$store.getters.yearNumberList[this.$store.state.selectedYearIdx])+" "),r("apex-hydric-constraint-line-chart",{staticClass:"item",attrs:{id:"graphe33"}})],1)])]),r("div",{staticClass:"export",staticStyle:{"margin-top":"10px"}},[r("hr"),r("div",{staticClass:"export",staticStyle:{"margin-top":"10px"}},[r("hr"),r("button",{staticClass:"btn btn-danger btn-sm",attrs:{id:"expdf"},on:{click:function(t){return e.exportPDF()}}},[r("img",{attrs:{src:"images/pdf.png"}}),e._v(" Export en PDF ")]),r("button",{staticClass:"btn btn-success btn-sm",attrs:{id:"excsv"},on:{click:function(t){return e.exportCSV()}}},[r("img",{attrs:{src:"images/excel.png"}}),e._v(" Export en CSV ")]),r("hr")])])]):e._e()},we=[],ke=r("e511"),xe=(r("0da4"),{name:"Export",components:{ApexGrowthPieChart:K,ApexGrowthLineChart:ee,ApexHydricConstraintLineChart:te},data:function(){return{userDataObj:[],userDBRows:[],error:"",selectedParcelIdx:0,selectedYearIdx:0,selectedWeekIdx:0,parceld:"",hydricConstraint:3,prctSlowGrowth:0,prctFullGrowth:0,avgGrowth:0}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.state.loggedUserEmail||e.$router.push("/"),e.selectedParcelIdx=e.$store.state.selectedParcelIdx,e.selectedYearIdx=e.$store.state.selectedYearIdx,e.selectedWeekIdx=e.$store.state.selectedWeekIdx;case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;this.$store.state.loggedUserEmail||this.$router.push("/"),this.$nextTick((function(){e.selectedParcelIdx=e.$store.state.selectedParcelIdx,e.selectedYearIdx=e.$store.state.selectedYearIdx,e.selectedWeekIdx=e.$store.state.selectedWeekIdx,e.$store.commit("incrementForceComponentUpdateCounter")}))},methods:{getDataFrame:function(){for(var e=["Parcelle","Campagne","Semaine","Nb Obs.","Nb Pleine croiss.","Nb Croiss. ralentie","Nb Croiss. arrêtée","% Pleine croiss.","% Croiss. ralentie","% Croiss. arrêtée","ic-Apex","Contrainte hydrique"],t=[],r=this.$store.getters.weekLabelList,a=r.length,s=0;s<a;s++){var n=this.$store.getters.getWeekMetric(this.selectedParcelIdx,this.selectedYearIdx,s),i=parseInt(n.nbObsFullGrowth),o=parseInt(n.nbObsSlowGrowth),l=parseInt(n.nbObsStoppedGrowth),c=i+o+l,u=0,d=0,p=0,m=0;c>0&&(u=Math.round(i/c*100),d=Math.round(o/c*100),p=Math.round(l/c*100),m=(.5*d+u)/100);var h=3;m>=.75?h=0:d>=5?h=1:d<=90&&(h=2),c<=0&&(h=0);var b=[];b.push(this.$store.getters.parcelNameList[this.selectedParcelIdx]),b.push(this.$store.getters.yearNumberList[this.selectedYearIdx]),b.push(this.$store.getters.weekLabelList[s]),b.push(c),b.push(i),b.push(o),b.push(l),b.push(u),b.push(d),b.push(p),b.push(m),b.push(h),t.push(b)}var v={columns:e,rows:t};return console.log("DataFrame"),console.log(v),v},exportPDF:function(){var e=new ke("landscape"),t=document.getElementById("pie-chart"),r=document.getElementById("line-chart"),a=document.getElementById("graphe33").children[1],s=t.toDataURL(),n=r.toDataURL(),i=a.toDataURL();e.text(90,20," Parcelle : "+this.$store.getters.parcelNameList[this.selectedParcelIdx]+", Observateur : "+this.$store.getters.getDisplayedUserNameIfNeeded(this.$store.state.userDataObj.parcels[this.selectedParcelIdx].dataOwnerEMail,this.$store.state.userDataObj.parcels[this.selectedParcelIdx].dataOwnerName)),e.text(60,40," Indicateurs d'évolution de croissance des Apex pour la campagne "+this.$store.getters.yearNumberList[this.selectedYearIdx]),e.addImage(s,"NPG",10,60,60,60),e.addImage(n,"NPG",90,60,90,60),e.addImage(i,"NPG",210,60,60,60),e.text(10,130,"semaine du "+this.$store.getters.weekLabelList[this.selectedWeekIdx]),e.text(90,130,"évolution de la croissance "),e.text(200,130,"évolution de la contrainte hydrique"),e.addPage("a4","l"),e.text(60,10,"Table des indicateurs de croissance calculés pour la campagne "+this.$store.getters.yearNumberList[this.selectedYearIdx]);var o=this.getDataFrame();e.autoTable(o.columns,o.rows,{margin:{top:20,halign:"center"},rowStyles:{0:{halign:"center"}}}),e.save("table.pdf")},exportCSV:function(){var e=this.getDataFrame(),t="data:text/csv;charset=utf-8,\n";e.columns.forEach((function(e,r,a){return t=t+'"'+e+'"'+(r<a.length-1?",":"\n")})),e.rows.forEach((function(e){return e.forEach((function(e,r,a){return t=t+e+(r<a.length-1?",":"\n")}))})),console.log("csvContent"),console.log(t);var r=encodeURI(t),a=document.createElement("a");a.setAttribute("href",r),a.setAttribute("download","export.csv"),a.click()}},watch:{selectedParcelIdx:function(e){this.$store.commit("updateSelectedParcelIdx",e),this.parcelMarkerClick(e)},selectedYearIdx:function(e){this.$store.commit("updateSelectedYearIdx",e)},selectedWeekIdx:function(e){this.$store.commit("updateSelectedWeekIdx",e)}}}),_e=xe,ye=(r("9157"),Object(y["a"])(_e,fe,we,!1,null,"6249344e",null)),Ie=ye.exports,Me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"global"},[r("br"),r("div",{staticClass:"menu"},[r("hr"),r("h4",{staticClass:"title",staticStyle:{"background-color":"grey"}},[e._v(" Bonjour "+e._s(e.$store.getters.getDisplayedUserName)+" ")]),r("hr"),r("p",[r("b",[e._v("Email:")]),e._v(" "+e._s(e.$store.getters.getDisplayedUserEMail))]),e.$store.state.demoUserEmail?r("div",[e._v(" "+e._s(e.$store.getters.getDisplayedUserName)+" ne peut pas changer ses données d'authentification ")]):r("div",[r("router-link",{staticClass:"btn btn-success btn-sm",staticStyle:{"margin-bottom":"20px"},attrs:{to:"/addpsw",tag:"button"}},[e._v("Ajouter/Modifier un mot de passe ")])],1)])])},Oe=[],Ce={name:"App",components:{},props:{userId:String},computed:{},data:function(){return{}},created:function(){this.$store.state.loggedUserEmail||this.$router.push("/")},mounted:function(){this.$store.state.loggedUserEmail||this.$router.push("/")},methods:{}},Se=Ce,je=(r("90e1"),Object(y["a"])(Se,Me,Oe,!1,null,"a12d8646",null)),$e=je.exports,De=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"global"},[r("hr"),r("h4",{staticClass:"title",staticStyle:{"background-color":"grey"}},[e._v(" Bonjour "+e._s(e.$store.getters.getDisplayedUserName)+" ")]),r("hr"),e.$store.state.loggedUserEmail?r("div",[r("h5",[e._v("Guide d'utilisation Apex Territoire")]),r("router-link",{staticClass:"nav-link",attrs:{to:"/map"}},[e._v("Carte")]),e._m(0),e._m(1),r("router-link",{staticClass:"nav-link",attrs:{to:"/edit"}},[e._v("Editer")]),e._m(2),e._m(3),r("router-link",{staticClass:"nav-link",attrs:{to:"/partage"}},[e._v("Partager")]),e._m(4),e._m(5),r("router-link",{staticClass:"nav-link",attrs:{to:"/partage"}},[e._v("Exporter")]),e._m(6),r("p",[e._v(" Les résumés d'observations se composent les indicateurs de croissances des apex et de contraintes hydriques d'une campagne sélectionnée. L'export de données présente en plus dans un tableau récapitulatif contenant la valeur de tous les indicateurs calculés pour chaque semain de la campagne. ")]),r("router-link",{staticClass:"nav-link",attrs:{to:"/profil"}},[e._v("Authentification")]),e._m(7)],1):e._e()])},Ne=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticStyle:{"text-align":"center"}},[r("b",[e._v(" Localiser par des icônes, à la fois, les parcelles observées par l'utilisateur et les parcelles pour lesquelles l'utilisateur est destinataire d'un partage d'observations")]),r("br")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("b",[e._v(" * Sélectionner une campagne, une semaine ")]),e._v(" à l'aide des menus de contrôle situés en haut de page pour recentrer la carte sur une parcelle d'intérêt. "),r("br"),r("b",[e._v(" * Accéder aux informations résumés sur la croissance des Apex ")]),e._v(" en cliquant sur l'icone représentant la parcelle. Chaque icone localisée sur la carte prend une couleur du vert pale au vert foncé en fonction de son indice de croissance, ou grise si il n y a pas d observations."),r("br"),r("b",[e._v(" * Comparer la croissance des Apex de la campagne précédente ")]),e._v(" en passant le curseur sur le bouton campagne précédente. "),r("br"),r("b",[e._v(" * Visualiser les indicateurs de croissance de la parcelle ")]),e._v(" pour la semaine et la campagne séletionnées, dans le panneau de droite. Ces indicateurs de croissance proviennent de l'application Apex Vigne et sont instantannément recalculés en fonction des nouvelles données mises-à-jour par l'utilisateur. ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticStyle:{"text-align":"center"}},[r("b",[e._v(" Ajouter ou mettre à jour le résumé des observations sur l'état des Apex collectées dans les parcelles ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v(" Les informations mises à jour peuvent concerner à la fois, les résumés d'observations collectées par l'utilisateur, ou encore les résumés d'observations reçus d'autres utilisateurs. Les mises à jour effectuées par un utilisateur sur les résumés d'observations reçus restent privées. Les mises à jour concernant les résumés d'observations collectés par l'utilisateur sont visibles aux autres utilisateurs destinataires d'un partage d'information sur la parcelle. En cliquant sur "),r("b",[e._v("Réinitialiser")]),e._v(", tout utilisateur a la posibilité d' "),r("b",[e._v(" effacer ses mises à jour afin de retrouver les résumés d'observations initialement collectées ")]),e._v(". ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticStyle:{"text-align":"center"}},[r("b",[e._v(" Partager les observations collectées par un utilisateur sur une parcelle avec un autre utilisateur ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v(" Les observations partagées ne concernent que le résumé des observations qui ont été collectées sur le terrain avec l'application Apex Vigne et éventuellent mises-à-jour avec ApeX Territoire. Afin de controler le partage d'observations entre utilisateurs, un utilisateur ne peut partager que les résumés des observations qu'il a lui meme collecté. Un utilisateur ne peut pas re-partager les résumés d'observations qu'il a reçu d'un autre utilisateur. Un utilisateur peut décider d'"),r("b",[e._v("arrêter le partage des informations sur une parcelle avec un autre utilisateur ")]),e._v(" en cliquant sur supprimer. ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticStyle:{"text-align":"center"}},[r("b",[e._v("Exporter au format pdf ou csv les résumés d'observations collectés et reçus par l'utilisateur")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("b",[e._v(" Protéger l'accès aux données de l'utilisateur ")]),e._v(" par un mot de passe. Cette fonctionalité accompagne le partage des résumés d'observations collectées par les utilisateurs. ")])}],Ee={name:"Guide",created:function(){this.$store.state.loggedUserEmail||this.$router.push("/")},mounted:function(){this.$store.state.loggedUserEmail||this.$router.push("/")},methods:{}},Pe=Ee,We=(r("2171"),Object(y["a"])(Pe,De,Ne,!1,null,"6c15bdf6",null)),Ue=We.exports,Ae=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Re=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"global"},[r("h4",[e._v("Mentions légales | Crédits | Confidentialité")]),r("p",[e._v(" Le site ApeX Territoire "),r("a",{attrs:{href:"https://apex-territoire.herokuapp.com"}},[e._v("https://apex-territoire.herokuapp.com")]),e._v(" est une application web développée par "),r("a",{attrs:{href:"https://www.inrae.fr"}},[e._v("INRAE")]),e._v(" et l'"),r("a",{attrs:{href:"https://www.montpellier-supagro.fr"}},[e._v(" Institut Agro | Montpellier Supagro")]),e._v(". Sa publication et son développement sont financés par "),r("a",{attrs:{href:"https://www.hdigitag.fr/"}},[e._v("#DigitAg")]),e._v(", l’Institut Convergences Agriculture Numérique. A ce titre, il a bénéficié d’une aide de l’État gérée par l’Agence Nationale de la Recherche au titre du programme d’Investissements d’Avenir portant la référence ANR-16-CONV-0004. ")]),r("ul",[r("li",[e._v(" Les logos et autres contenus présents sur ce site font l’objet de droits de propriété intellectuelle. En conséquence, il vous est interdit de les réutiliser sans autorisation préalable")]),r("li",[e._v(" « Les contenus de nature publique sont utilisables conformément aux conditions de la licence ouverte «"),r("a",{attrs:{href:"https://opensource.org/licenses/MIT"}},[e._v("MIT")]),e._v("»")]),r("li",[e._v(" Crédit photo: « Vignoble » Jacqueline Macou, Licence Pixabay (libre pour usage commercial, pas d'attribution requise)")]),r("li",[e._v(" Crédit icones: source (https://icon-icons.com/), License libre d'usage commercial et sans attribution requise ")])]),r("h5",[e._v("Editeur du site ")]),r("p",[e._v(" L'éditeur du site est : "),r("a",{attrs:{href:"https://www.inrae.fr"}},[e._v("INRAE")]),e._v(", établissement public à caractère scientifique et technologique. 147 rue de l’Université, 75338 Paris cedex 07, France. ")]),r("h5",[e._v("Développement informatique")]),r("p",[e._v(" Vincent Armant et Amine Ouail, #DigitAg | INRAE Occitanie-Montpellier | UMR MISTEA. L'application a été développée à la demande de Léo Pichon (porteur du projet) et Guilhem Brunel, Institut Agro | Montpellier SupAgro, et reprend les éléments graphiques et les indicateurs de croissance développés pour l’application ApeX Vigne. ")]),r("h5",[e._v("Responsabilité INRAE")]),r("ul",[r("li",[r("b",[e._v("Disponibilité du site.")]),e._v(" Sauf dispositions légales contraires, INRAE ne garantit aucunement la disponibilité du site et la permanence dans le temps des informations présentes sur le site. ")]),r("li",[r("b",[e._v("Sécurité informatique.")]),e._v(" Sauf dispositions légales contraires, le site, ses fonctionnalités et contenus ne sont pas garantis contre toute faille de sécurité liée à un piratage, intrusion, bug, virus, logiciel malveillant pouvant affecter votre matériel informatique, vos logiciels ou vos données. Vous utilisez le site, ses fonctionnalités et son contenu à vos propres risques et sous votre entière responsabilité. Vous êtes tenu de prendre toutes les mesures préventives nécessaires à la protection de vos propres données, logiciels et/ou systèmes informatiques pour vous prémunir contre la contamination d’éventuels virus et contre toutes atteintes. ")])]),r("h5",[e._v("Responsabilité de l'internaute")]),r("ul",[r("li",[r("b",[e._v("Qualité des contenus.")]),e._v(" Bien qu’INRAE s’efforce de diffuser des contenus fiables, les erreurs, inexactitudes ou omissions ne peuvent être totalement exclues. Vous êtes seul responsable de la consultation, du choix, de l’utilisation et de l’interprétation du contenu de ce site. INRAE ne pourra être tenu, du fait d’une obligation expresse ou tacite, comme responsable envers vous ou des tiers de quelconque dommage direct ou indirect découlant de l’utilisation des informations, et notamment consécutif à une information inexacte ou incomplète, une erreur d’indexation de tout ou partie du site. ")]),r("li",[r("b",[e._v("Compte utilisateur.")]),e._v(" Vous êtes seul responsable de l'usage de votre compte et de ses codes d’accès et ne sauriez opposer un quelconque usage frauduleux par un tiers à INRAE. ")])]),r("h4",[e._v("Données à caractère personnelles")]),e._v(" Les données à caractère personnel (DCP) recueillies sur le présent site sont au titre du souhait de connexion : "),r("ul",[r("li",[e._v(" l’adresse mail et le nom que l'utilisateur a renseigné à l'application pour créer son compte ")]),r("li",[e._v(" la localisation des parcelles, la date, et l’heure des modifications des résumés d'obervations ")])]),r("p",[e._v(" Ces DCP font l’objet d’un traitement informatique mis en œuvre par le responsable du traitement concerné et le responsable de publication du site mentionné ci-dessus. Ces DCP sont obligatoires pour le bon fonctionnement du site internet. Ces DCP ont pour finalité la mise en œuvre du site internet. La base juridique de ces traitements est l’exécution de la mission d’intérêt public. ")]),r("h4",[e._v("Durée de conservation des DCP ")]),r("ul",[r("li",[e._v("Gestion des utilisateurs : « Tant que votre compte est actif pour les données liées à votre compte sur ce site »")]),r("li",[e._v("Cookies : aucun cookie n'est enregistré ")])]),r("p",[e._v(" A l’issue des durées de conservation indiquées, les données seront détruites. Les destinataires des DCP sont les personnels habilités des services du responsable de traitement, des partenaires/tutelles et des prestataires en charge de la gestion et du suivi des utilisateurs et en charge de la mise en œuvre du site internet et des services qui y sont proposés. ")]),r("p",[r("b",[e._v(" Les destinataires des DCP ")]),e._v(" sont les personnels habilités des services du responsable de traitement, des partenaires/tutelles et des prestataires en charge de la gestion et du suivi des utilisateurs et en charge de la mise en œuvre du site internet et des services qui y sont proposés. ")]),r("p",[e._v(" Vous disposez d’un droit d’accès, de rectification, d’opposition pour motifs légitimes, de limitation et d’effacement relativement à l’ensemble des DCP vous concernant dans les conditions prévues par la loi Informatique et Libertés du 6 janvier 1978 modifiée, renforcée et complétée par le RGPD (règlement général sur la protection des données) entré en vigueur le 25 mai 2018. Vous pouvez exercer ces droits en vous adressant au responsable de publication mentionné en écrivant à l’adresse indiquée dans la rubrique « Mentions légales ». En cas de doute sur l’identité de la personne exerçant ses droits, un document d’identité signé sera demandé. Le responsable de traitement a nommé un Délégué à la Protection des Données à caractère personnel (DCP). Vous pouvez le contacter par email à cil-dpo@inrae.fr ou par courrier à INRAE - 24, chemin de Borde Rouge –Auzeville – CS52627 – 31326 Castanet Tolosan cedex – France. ")])])}],Le={name:"LegalMentions",created:function(){},mounted:function(){},methods:{}},Ge=Le,Te=(r("0ba3"),Object(y["a"])(Ge,Ae,Re,!1,null,"5f4f7cca",null)),Ye=Te.exports,qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login",staticStyle:{"background-image":"url(images/2-Vignoble-Herault-Apex-jackmac34-Pixabay-LDD-1367095-1920x1285px.jpg)","background-size":"2200px 800px",padding:"30px",margin:"1px"}},[e._m(0),r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"card card-container"},[r("center",[r("b-avatar",{attrs:{size:"100px"}},[r("img",{attrs:{src:"images/utilisateur.png"}})])],1),r("div",{staticClass:"form-group"},[e._m(1),e.$store.state.loggedUserEmail?e._e():r("input",{directives:[{name:"model",rawName:"v-model",value:e.EMail,expression:"EMail"}],staticClass:"form-control",attrs:{type:"text",name:"EMail"},domProps:{value:e.EMail},on:{input:function(t){t.target.composing||(e.EMail=t.target.value)}}}),e.$store.state.loggedUserEmail?r("label",[e._v(" "+e._s(e.$store.state.loggedUserEmail)+" ")]):e._e(),e.$store.state.loggedUserEmail?e._e():r("p",{staticStyle:{display:"block"},attrs:{id:"p"}}),e.$store.state.loggedUserEmail?e._e():r("button",{staticClass:"btn btn-primary btn-block",staticStyle:{display:"block"},attrs:{id:"div1"},on:{click:function(t){return e.continueToNextStep()}}},[r("span",[e._v("Continuer")])]),r("p",[e._v(e._s(e.msg))])]),e.$store.state.mailpresent?r("div",{staticClass:"form-group"},[e._m(2),r("p",[e._v("Voulez vous enregistrer un mot de passe")]),r("button",{staticClass:"btn btn-primary btn-block",on:{click:e.Oui}},[r("span",[e._v("Oui")])]),r("button",{staticClass:"btn btn-primary btn-block",on:{click:e.Non}},[r("span",[e._v("Non")])])]):e._e(),e.$store.state.PasswordRequire?r("div",{staticClass:"form-group"},[e._m(3),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),r("button",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.login()}}},[r("span",[e._v("Se connecter")])]),e._m(4),r("p",[e._v(e._s(e.message))])]):e._e(),e.authorizedToContinue?r("div",[r("p",[r("b",[e._v("Chargement")]),r("b-spinner",{attrs:{small:"",label:"Small Spinner",type:"grow"}}),r("b-spinner",{attrs:{small:"",label:"Small Spinner",type:"grow"}}),r("b-spinner",{attrs:{small:"",label:"Small Spinner",type:"grow"}})],1)]):e._e()],1)])])},ze=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("ApeX Territoire")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{attrs:{for:"EMail"}},[r("b",[e._v("Mail")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{attrs:{for:"password"}},[r("b",[e._v("Mot de passe")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{attrs:{for:"password"}},[r("b",[e._v("Mot de passe")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v("Mot de passe oublié "),r("a",{attrs:{href:"#/resetp"}},[e._v("cliquer ici")])])}],Be={data:function(){return{EMail:"",msg:"",message:"",password:"",activedNavbar:"",mailpresent:"",PasswordRequire:"",authorizedToContinue:!1,userInfo:null}},methods:{continueToNextStep:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.EMail){t.next=12;break}return r="visiteur.demo@apex-territoire.fr",e.authorizedToContinue=!0,e.$store.commit("initDemoUserEmail",r),t.next=6,e.initLoggedUserIfNeeded(r);case 6:return t.next=8,e.loadUserData(r);case 8:console.log("Routing to map"),e.$router.push("/map"),t.next=40;break;case 12:return a=e.EMail,t.next=15,e.initLoggedUserIfNeeded(a);case 15:if(!e.userInfo.userExistsInAuthTable){t.next=28;break}if(e.userInfo.userRequiredPassword){t.next=24;break}return e.authorizedToContinue=!0,t.next=20,e.loadUserData(a);case 20:console.log("Routing to ApexMap"),e.$router.push("/map"),t.next=26;break;case 24:s="true",e.$store.commit("initPasswordRequire",s);case 26:t.next=40;break;case 28:if(!e.userInfo.userExistsInUserTable){t.next=37;break}return n="true",e.$store.commit("initmailpresent",n),t.next=33,m.mailAddToAuth(a,e.userInfo.userName);case 33:i=t.sent,i?console.log(" mail added to authentification"):console.log("WARNING mail NOT added to authentification"),t.next=40;break;case 37:e.msg="mail inconnu, vérifier que le mail est enregistré dans ApeX Vigne",alert("Mail inconnu, vérifier que le mail est enregistré dans ApeX Vigne, vous allez être déconnecté"),e.logout();case 40:case"end":return t.stop()}}),t)})))()},initLoggedUserIfNeeded:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.$store.loggedUserEmail||t.$store.commit("initLoggedUserEmail",e),t.userInfo){r.next=5;break}return r.next=4,m.getUserInfo(e);case 4:t.userInfo=r.sent;case 5:case"end":return r.stop()}}),r)})))()},loadUserData:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,console.log("loadUserData"),r.next=4,t.initLoggedUserIfNeeded(e);case 4:return console.log("this.userInfo"),console.log(t.userInfo),a=new m.MonitoredUser(t.userInfo.userEMail,t.userInfo.userId,t.userInfo.userName),console.log("tmpUserDataObj after userInfo"),console.log(a),r.next=11,m.addParcelObservations(a);case 11:return console.log("tmpUserDataObj after addParcelObservations"),console.log(a),r.next=15,m.addSharedParcelObservations(a);case 15:return console.log("tmpUserDataObj after addSharedParcelObservations"),console.log(a),r.next=19,m.addInitializedWeekMetrics(a);case 19:return console.log("tmpUserDataObj after addInitializedWeekMetrics"),console.log(a),m.addWeeksToUserDataObj(a),m.enforceConsistencyOfUserDataObj(a),m.sortUserDataObjByYearByWeek(a),t.$store.commit("initUserDataObj",a),console.log("updated $store.state.userDataObj: "),console.log(t.$store.state.userDataObj),r.next=29,t.$store.dispatch("initUserModifiedWeekMetrics");case 29:t.$store.commit("initActivedNavbar","true"),r.next=35;break;case 32:r.prev=32,r.t0=r["catch"](0),t.logout();case 35:case"end":return r.stop()}}),r,null,[[0,32]])})))()},Non:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.EMail,e.authorizedToContinue=!0,t.next=4,e.loadUserData(r);case 4:console.log("Routing to ApexMap"),e.$router.push("/map");case 6:case"end":return t.stop()}}),t)})))()},Oui:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.EMail,e.authorizedToContinue=!0,t.next=4,e.loadUserData(r);case 4:console.log("Routing to addpsw"),e.$router.push("/addpsw");case 6:case"end":return t.stop()}}),t)})))()},login:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.password,a=e.EMail,e.message="",t.next=6,m.checkPassword(r,a);case 6:if(e.authorizedToContinue=t.sent,!e.authorizedToContinue){t.next=15;break}return e.message="mot de passe valide",t.next=11,e.loadUserData(a);case 11:console.log("Routing to ApexMap"),e.$router.push("/map"),t.next=17;break;case 15:console.log("mot de passe non valide"),e.message="mot de passe non valide";case 17:t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](0),e.error=t.t0.message;case 22:case"end":return t.stop()}}),t,null,[[0,19]])})))()},logout:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("logout"),r="",e.$store.commit("initmailpresent",r),a="",e.$store.commit("initPasswordRequire",a),s="",e.$store.commit("initActivedNavbar",s),n=0,e.$store.commit("initNavbarModel",n),e.$router.push("/");case 10:case"end":return t.stop()}}),t)})))()}}},Fe=Be,Ve=(r("b040"),Object(y["a"])(Fe,qe,ze,!1,null,"34c7b088",null)),He=Ve.exports,Xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"global"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"card card-container"},[r("form",{attrs:{name:"form"}},[r("h4",[e._v("Ajouter un mot de passe")]),e._m(0),r("p",[e._v(e._s(e.$store.state.loggedUserEmail))]),e._m(1),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._m(2),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password_repeat,expression:"password_repeat"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password (repeat)"},domProps:{value:e.password_repeat},on:{input:function(t){t.target.composing||(e.password_repeat=t.target.value)}}}),r("button",{staticClass:"btn btn-primary btn-sm",staticStyle:{"margin-top":"10px"},attrs:{id:"buttoninsert"},on:{click:function(t){return e.updatepws()}}},[e._v(" Modifier ")]),r("p",[e._v(e._s(e.msg))])])])])])},Je=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{attrs:{for:"mail"}},[r("b",[e._v("Mail")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{attrs:{for:"password"}},[r("b",[e._v("Password")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{attrs:{for:"password-r"}},[r("b",[e._v("Password repeat")])])}],Ze={data:function(){return{mail:"",password:"",password_repeat:"",msg:"",UserEMail:""}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.state.loggedUserEmail||e.$router.push("/");case 1:case"end":return t.stop()}}),t)})))()},methods:{updatepws:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.password,a=e.password_repeat,s=e.$store.state.loggedUserEmail,r===a?(e.msg="",n=1,""===r&&""===a&&(e.msg="Le compte utilisateur sera accessible sans mot de passe",n=0),m.pwsadd({transaction:"alter_password",UserEMail:s,password:r,passwordRequire:n}).then((function(){alert("L'authentification a bien été modifiée, retour à la carte"),console.log("Routing to ApexMap"),e.$router.push("/map")}))):e.msg="les mots de passe saisis ne sont pas identiques";case 4:case"end":return t.stop()}}),t)})))()}}},Qe=Ze,Ke=(r("60cb"),Object(y["a"])(Qe,Xe,Je,!1,null,"4866cc7c",null)),et=Ke.exports,tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container",staticStyle:{"margin-bottom":"50px","margin-top":"20px"}},[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-6"},[r("div",{staticClass:"card card-default"},[r("div",{staticClass:"card-header"},[e._v("Mot de passe oublie")]),r("div",{staticClass:"card-body"},[r("form",{attrs:{autocomplete:"off",method:"post"},on:{submit:function(t){return t.preventDefault(),e.requestResetPassword(t)}}},[e._m(0),e.$store.state.loggedUserEmail?r("label",[e._v(" "+e._s(e.$store.state.loggedUserEmail)+" ")]):e._e(),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Réinitialiser le mot de passe ")])])]),r("p",{attrs:{id:"message"}},[r("b",[e._v(e._s(e.message))])]),r("p",{attrs:{id:"msg"}},[r("b",[e._v(e._s(e.msg))])])])])])])},rt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"email"}},[e._v("E-mail")])])}],at={data:function(){return{email:null,has_error:!1,message:"",msg:""}},methods:{requestResetPassword:function(){var e=this;console.log("START requestResetPassword");var t=this.$store.state.loggedUserEmail;console.log(t),m.ResetPassword(t).then((function(t){!0===t?(console.log("Mot de passe envoyé"),e.msg="Mot de passe envoyé",e.message="",alert("Mot de passe envoyé, Vous allez être réorienté vers la page d'accueil "),e.logout()):(e.message="Mot de passe non envoyé",e.msg="",console.log("mot de passe non envoyé"))}))},logout:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("logout"),r="",e.$store.commit("initmailpresent",r),a="",e.$store.commit("initPasswordRequire",a),s="",e.$store.commit("initActivedNavbar",s),n=0,e.$store.commit("initNavbarModel",n),e.$router.push("/");case 10:case"end":return t.stop()}}),t)})))()}}},st=at,nt=(r("00e2"),Object(y["a"])(st,tt,rt,!1,null,null,null)),it=nt.exports,ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"global",staticStyle:{"background-image":"url(images/2-Vignoble-Herault-Apex-jackmac34-Pixabay-LDD-1367095-1920x1285px.jpg)","background-size":"2200px 800px",padding:"30px",margin:"1px",height:"800px"}},[e._m(0),r("div",{attrs:{id:"btnVisiteur"}},[r("button",{staticClass:"btn btn-secondary btn-block",staticStyle:{width:"120px"},on:{click:function(t){return e.continueToNextStep()}}},[r("b-avatar",{attrs:{size:"100px"}},[r("img",{attrs:{src:"images/3.png"}})]),e._m(1)],1)]),r("div",{attrs:{id:"btnUtilisateur"}},[r("router-link",{staticClass:"btn btn-secondary btn-block",staticStyle:{"margin-top":"15px",width:"120px"},attrs:{to:"/login"}},[r("b-avatar",{attrs:{size:"100px"}},[r("img",{attrs:{src:"images/utilisateur.png"}})]),r("b",[e._v("Utilisateur")])],1),r("p",[e._v(e._s(e.msg))])],1),r("div",{attrs:{id:"btnGuide"}},[r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-footer",modifiers:{"sidebar-footer":!0}}],staticClass:"bg-secondary",staticStyle:{opacity:"90%"},attrs:{id:"btnGuide"}},[r("b-icon-book"),r("span",[r("b",[e._v(" Mode d'emploi")])])],1)],1),r("b-sidebar",{attrs:{id:"sidebar-footer","aria-label":"Sidebar with custom footer","no-header":"",shadow:""},scopedSlots:e._u([{key:"footer",fn:function(t){var a=t.hide;return[r("b-button",{attrs:{size:"sm"},on:{click:a}},[e._v("Fermer")])]}}])},[r("div",{staticClass:"px-3 py-2",staticStyle:{"font-size":"small"}},[r("h5",[e._v("Guide d'utilisation Apex Territoire")]),r("router-link",{staticClass:"nav-link",attrs:{to:"/map"}},[e._v("Carte")]),r("p",{staticStyle:{"text-align":"center"}},[r("b",[e._v(" Localiser par des icônes, à la fois, les parcelles observées par l'utilisateur et les parcelles pour lesquelles l'utilisateur est destinataire d'un partage d'observations")]),r("br")]),r("p",[r("b",[e._v(" * Sélectionner une campagne, une semaine ")]),e._v(" à l'aide des menus de contrôle situés en haut de page pour recentrer la carte sur une parcelle d'intérêt. "),r("br"),r("b",[e._v(" * Accéder aux informations résumés sur la croissance des Apex ")]),e._v(" en cliquant sur l'icone représentant la parcelle. Chaque icone localisée sur la carte prend une couleur du vert pale au vert foncé en fonction de son indice de croissance, ou grise si il n y a pas d observations."),r("br"),r("b",[e._v(" * Comparer la croissance des Apex de la campagne précédente ")]),e._v(" en passant le curseur sur le bouton campagne précédente. "),r("br"),r("b",[e._v(" * Visualiser les indicateurs de croissance de la parcelle ")]),e._v(" pour la semaine et la campagne séletionnées, dans le panneau de droite. Ces indicateurs de croissance proviennent de l'application Apex Vigne et sont instantannément recalculés en fonction des nouvelles données mises-à-jour par l'utilisateur. ")]),r("router-link",{staticClass:"nav-link",attrs:{to:"/edit"}},[e._v("Editer")]),r("p",{staticStyle:{"text-align":"center"}},[r("b",[e._v(" Ajouter ou mettre à jour le résumé des observations sur l'état des Apex collectées dans les parcelles ")])]),r("p",[e._v(" Les informations mises à jour peuvent concerner à la fois, les résumés d'observations collectées par l'utilisateur, ou encore les résumés d'observations reçus d'autres utilisateurs. Les mises à jour effectuées par un utilisateur sur les résumés d'observations reçus restent privées. Les mises à jour concernant les résumés d'observations collectés par l'utilisateur sont visibles aux autres utilisateurs destinataires d'un partage d'information sur la parcelle. En cliquant sur "),r("b",[e._v("Réinitialiser")]),e._v(", tout utilisateur a la posibilité d' "),r("b",[e._v(" effacer ses mises à jour afin de retrouver les résumés d'observations initialement collectées ")]),e._v(". ")]),r("router-link",{staticClass:"nav-link",attrs:{to:"/partage"}},[e._v("Partager")]),r("p",{staticStyle:{"text-align":"center"}},[r("b",[e._v(" Partager les observations collectées par un utilisateur sur une parcelle avec un autre utilisateur ")])]),r("p",[e._v(" Les observations partagées ne concernent que le résumé des observations qui ont été collectées sur le terrain avec l'application Apex Vigne et éventuellent mises-à-jour avec ApeX Territoire. Afin de controler le partage d'observations entre utilisateurs, un utilisateur ne peut partager que les résumés des observations qu'il a lui meme collecté. Un utilisateur ne peut pas re-partager les résumés d'observations qu'il a reçu d'un autre utilisateur. Un utilisateur peut décider d'"),r("b",[e._v("arrêter le partage des informations sur une parcelle avec un autre utilisateur ")]),e._v(" en cliquant sur supprimer. ")]),r("router-link",{staticClass:"nav-link",attrs:{to:"/partage"}},[e._v("Exporter")]),r("p",{staticStyle:{"text-align":"center"}},[r("b",[e._v("Exporter au format pdf ou csv les résumés d'observations collectés et reçus par l'utilisateur")])]),r("p",[e._v(" Les résumés d'observations se composent les indicateurs de croissances des apex et de contraintes hydriques d'une campagne sélectionnée. L'export de données présente en plus dans un tableau récapitulatif contenant la valeur de tous les indicateurs calculés pour chaque semain de la campagne. ")]),r("router-link",{staticClass:"nav-link",attrs:{to:"/profil"}},[e._v("Authentification")]),r("p",[r("b",[e._v(" Protéger l'accès aux données de l'utilisateur ")]),e._v(" par un mot de passe. Cette fonctionalité accompagne le partage des résumés d'observations collectées par les utilisateurs. ")])],1)]),e._m(2),e.authorizedToContinue?r("div",{attrs:{id:"chargement"}},[r("p",[r("b",{staticStyle:{color:"white"}},[e._v("Chargement")]),r("b-spinner",{attrs:{small:"",label:"Small Spinner",type:"grow"}}),r("b-spinner",{attrs:{small:"",label:"Small Spinner",type:"grow"}}),r("b-spinner",{attrs:{small:"",label:"Small Spinner",type:"grow"}})],1)]):e._e()],1)},lt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"title"}},[r("h1",[e._v("ApeX Territoire")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("b",[e._v("Visiteur")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card bg-secondary text-white",staticStyle:{opacity:"90%"},attrs:{id:"objective"}},[r("div",{staticClass:"card-body"},[r("p",[r("b",[e._v("ApeX Territoire : Visualiser la croissance végétative à l’échelle du territoire")])]),r("p",[e._v(" ApeX Territoire est une application vitrine permettant de visualiser des observations collectées à l’aide d’ApeX-Vigne. ApeX-Vigne est une application mobile gratuite développée par l’Institut Français de la Vigne et du vin et l’institut Agro permettant de suivre l’évolution de la croissance végétative de la vigne et d’estimer le niveau de contrainte hydrique. Elle est basée sur la méthode des apex, une méthode simple pour caractériser la croissance végétative de la vigne. Basée sur l’observation de l’extrémité des rameaux, les apex, elle est couramment utilisée au vignoble par les techniciens, particulièrement en région méditerranéenne, où l’on essaye de relier l’arrêt précoce de la croissance à des niveaux de contrainte hydrique importants. ")]),r("p",[e._v(" ApeX Territoire propose une visualisation géolocalisée des indicateurs de croissance des apex et une analyse spatio-temporelle de leur croissance observée dans les parcelles de vignes. Cette application vitrine permet d’ajouter, de mettre à jour, de partager et d’exporter les résumés de ses observations. L’application est conçue pour une utilisation sur ordinateur, mobile et tablette. Apex Territoire fait partie des démonstrateurs de la vitrine numérique #DigitAg. ")]),r("b",[e._v(" contact: leo.pichon@supagro.fr ")]),r("p",[e._v("Développeur(s) : Vincent Armant et Amin Ouail, INRAE")])])])}],ct={data:function(){return{EMail:"",msg:"",message:"",password:"",activedNavbar:"",mailpresent:"",PasswordRequire:"",authorizedToContinue:!1,userInfo:null}},methods:{continueToNextStep:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.EMail){t.next=12;break}return r="visiteur.demo@apex-territoire.fr",e.authorizedToContinue=!0,e.$store.commit("initDemoUserEmail",r),t.next=6,e.initLoggedUserIfNeeded(r);case 6:return t.next=8,e.loadUserData(r);case 8:console.log("Routing to map"),e.$router.push("/map"),t.next=38;break;case 12:return a=e.EMail,t.next=15,e.initLoggedUserIfNeeded(a);case 15:if(!e.userInfo.userExistsInAuthTable){t.next=28;break}if(e.userInfo.userRequiredPassword){t.next=24;break}return e.authorizedToContinue=!0,t.next=20,e.loadUserData(a);case 20:console.log("Routing to ApexMap"),e.$router.push("/map"),t.next=26;break;case 24:s="true",e.$store.commit("initPasswordRequire",s);case 26:t.next=38;break;case 28:if(!e.userInfo.userExistsInUserTable){t.next=37;break}return n="true",e.$store.commit("initmailpresent",n),t.next=33,m.mailAddToAuth(a,e.userInfo.userName);case 33:i=t.sent,i?console.log(" mail added to authentification"):console.log("WARNING mail NOT added to authentification"),t.next=38;break;case 37:e.msg="mail inconnu, vérifier que le mail est enregistré dans ApeX Vignes";case 38:case"end":return t.stop()}}),t)})))()},initLoggedUserIfNeeded:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.$store.loggedUserEmail||t.$store.commit("initLoggedUserEmail",e),t.userInfo){r.next=5;break}return r.next=4,m.getUserInfo(e);case 4:t.userInfo=r.sent;case 5:case"end":return r.stop()}}),r)})))()},loadUserData:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("loadUserData"),r.next=3,t.initLoggedUserIfNeeded(e);case 3:return console.log("this.userInfo"),console.log(t.userInfo),a=new m.MonitoredUser(t.userInfo.userEMail,t.userInfo.userId,t.userInfo.userName),console.log("tmpUserDataObj after userInfo"),console.log(a),r.next=10,m.addParcelObservations(a);case 10:return console.log("tmpUserDataObj after addParcelObservations"),console.log(a),r.next=14,m.addSharedParcelObservations(a);case 14:return console.log("tmpUserDataObj after addSharedParcelObservations"),console.log(a),r.next=18,m.addInitializedWeekMetrics(a);case 18:return console.log("tmpUserDataObj after addInitializedWeekMetrics"),console.log(a),m.addWeeksToUserDataObj(a),m.enforceConsistencyOfUserDataObj(a),m.sortUserDataObjByYearByWeek(a),t.$store.commit("initUserDataObj",a),console.log("updated $store.state.userDataObj: "),console.log(t.$store.state.userDataObj),r.next=28,t.$store.dispatch("initUserModifiedWeekMetrics");case 28:t.$store.commit("initActivedNavbar","true");case 29:case"end":return r.stop()}}),r)})))()}}},ut=ct,dt=(r("d411"),Object(y["a"])(ut,ot,lt,!1,null,"c46b214c",null)),pt=dt.exports;a["default"].use(Y["a"]);var mt=new Y["a"]({routes:[{path:"/map",name:"map",component:ne},{path:"/",name:"welcome",component:pt},{path:"/edit",name:"edit",component:de},{path:"/partage",name:"partage",component:ge},{path:"/export",name:"export",component:Ie},{path:"/profil",name:"profil",component:$e},{path:"/guide",name:"guide",component:Ue},{path:"/legalMentions",name:"LegalMentions",component:Ye},{path:"/login",name:"login",component:He},{path:"/addpsw",name:"addpsw",component:et},{path:"/resetp",name:"resetp",component:it}]}),ht=r("5f5b"),bt=r("b1e0");a["default"].use(ht["a"]),a["default"].use(bt["a"]),a["default"].config.productionTip=!1,new a["default"]({store:v,router:mt,render:function(e){return e(T)}}).$mount("#app")},"5c0d":function(e,t,r){},"60cb":function(e,t,r){"use strict";var a=r("7f88"),s=r.n(a);s.a},"66ee":function(e,t,r){},7095:function(e,t,r){},"791f":function(e,t,r){"use strict";var a=r("7095"),s=r.n(a);s.a},"7f88":function(e,t,r){},"85ec":function(e,t,r){},9007:function(e,t,r){},"90e1":function(e,t,r){"use strict";var a=r("3e46"),s=r.n(a);s.a},9157:function(e,t,r){"use strict";var a=r("9fd8"),s=r.n(a);s.a},"9fd8":function(e,t,r){},aaaa:function(e,t,r){"use strict";var a=r("d3f3"),s=r.n(a);s.a},b040:function(e,t,r){"use strict";var a=r("2f3e"),s=r.n(a);s.a},b3f2:function(e,t,r){},d3f3:function(e,t,r){},d411:function(e,t,r){"use strict";var a=r("9007"),s=r.n(a);s.a},ecb7:function(e,t,r){"use strict";var a=r("2403"),s=r.n(a);s.a},ef9b:function(e,t,r){},fa18:function(e,t,r){"use strict";var a=r("66ee"),s=r.n(a);s.a}});
//# sourceMappingURL=app.98ae3322.js.map